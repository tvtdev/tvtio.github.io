{"ast":null,"code":"var _jsxFileName = \"/home/ubuntu/reactTester/src/Components/Login.js\";\nimport React from 'react';\nimport { Icon, Input, Message } from 'semantic-ui-react';\nimport cookie from 'react-cookies';\nimport { Auth } from 'aws-amplify';\nimport '../App.css';\n\nclass Login extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      user_name: \"\",\n      pwd: \"\",\n      login_error: null,\n      status: false\n    };\n\n    this.emailId = e => {\n      this.setState({\n        user_name: e.target.value\n      });\n    };\n\n    this.password = e => {\n      this.setState({\n        pwd: e.target.value\n      });\n    };\n\n    this.againLogin = () => {\n      this.setState({\n        status: false\n      });\n    };\n\n    this.submit = () => {\n      Auth.signIn(this.state.user_name, this.state.pwd).then(user => {\n        let cog_data = user.signInUserSession.idToken;\n        let u_id = cog_data.payload.sub,\n            jwt_token = cog_data.jwtToken;\n        localStorage.setItem('_cog_u_in_', JSON.stringify(cog_data.payload));\n        cookie.save(\"_ref_i_token_\", jwt_token, {\n          path: '/'\n        });\n        cookie.save(\"_u_id_\", u_id, {\n          path: '/'\n        });\n        this.setState({\n          status: true\n        });\n      }).catch(err => {\n        this.setState({\n          login_error: \"Invalid credentials\"\n        });\n      });\n    };\n  }\n\n  componentWillMount() {\n    if (cookie.load('_u_id_') !== null && cookie.load('_u_id_') !== undefined) {\n      this.setState({\n        status: true\n      });\n    }\n  }\n\n  render() {\n    if (this.state.status === true) {\n      return React.createElement(\"div\", {\n        className: \"centerAlignment\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(Message, {\n        positive: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(Message.Header, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, \"Now You are an authorized user.\"), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, \" Token Expired? \"), React.createElement(\"button\", {\n        className: \"reLoginLink\",\n        onClick: this.againLogin,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, \" Login \")));\n    } else {\n      return React.createElement(\"div\", {\n        className: \"centerAlignment\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, \" Welcome Back! \")), React.createElement(\"div\", {\n        style: {\n          marginTop: \"40px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(Input, {\n        iconPosition: \"left\",\n        placeholder: \"User name\",\n        size: \"big\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        name: \"user\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        onChange: this.emailId,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        style: {\n          marginTop: \"20px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(Input, {\n        iconPosition: \"left\",\n        placeholder: \"Password\",\n        size: \"big\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        name: \"lock\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"password\",\n        onChange: this.password,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        style: {\n          marginTop: \"20px\",\n          textAlign: \"center\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"button\",\n        onClick: this.submit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, \"Login\")), React.createElement(\"div\", {\n        style: {\n          marginTop: \"20px\",\n          textAlign: \"center\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, this.state.login_error === null ? null : React.createElement(\"span\", {\n        style: {\n          color: \"red\",\n          textAlign: \"center\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, \" \", this.state.login_error, \" \")));\n    }\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["/home/ubuntu/reactTester/src/Components/Login.js"],"names":["React","Icon","Input","Message","cookie","Auth","Login","Component","state","user_name","pwd","login_error","status","emailId","e","setState","target","value","password","againLogin","submit","signIn","then","user","cog_data","signInUserSession","idToken","u_id","payload","sub","jwt_token","jwtToken","localStorage","setItem","JSON","stringify","save","path","catch","err","componentWillMount","load","undefined","render","marginTop","textAlign","color"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {Icon, Input, Message} from 'semantic-ui-react'\nimport cookie from 'react-cookies';\nimport {Auth} from 'aws-amplify';\nimport '../App.css';\n\nclass Login extends React.Component {\n\n    state = {\n        user_name: \"\",\n        pwd: \"\",\n        login_error: null,\n        status: false\n    };\n\n    componentWillMount() {\n        if(cookie.load('_u_id_') !== null && cookie.load('_u_id_')!== undefined) {\n            this.setState({\n                status: true\n            })\n        }\n    }\n\n    emailId = (e) => {\n        this.setState({\n            user_name: e.target.value\n        })\n    };\n\n    password = (e) => {\n        this.setState({\n            pwd: e.target.value\n        })\n    };\n\n    againLogin = () => {\n        this.setState({\n            status: false\n        })\n    };\n\n    submit = () => {\n        Auth.signIn(this.state.user_name, this.state.pwd)\n            .then(user => {\n                let cog_data = user.signInUserSession.idToken;\n                let u_id = cog_data.payload.sub,\n                    jwt_token = cog_data.jwtToken;\n\n                localStorage.setItem('_cog_u_in_', JSON.stringify(cog_data.payload));\n                cookie.save(\"_ref_i_token_\", jwt_token, {path: '/'});\n                cookie.save(\"_u_id_\", u_id, {path: '/'});\n                this.setState({\n                    status: true\n                })\n            }).catch(err => {\n            this.setState({\n                login_error: \"Invalid credentials\"\n            });\n        })\n    };\n\n    render() {\n        if (this.state.status === true) {\n            return (\n                <div className=\"centerAlignment\">\n                    <Message positive>\n                        <Message.Header>Now You are an authorized user.</Message.Header>\n                        <span> Token Expired? </span>\n                        <button className=\"reLoginLink\" onClick={this.againLogin}> Login </button>\n                    </Message>\n                </div>\n            )\n        } else {\n            return (\n                <div className=\"centerAlignment\">\n                    <div>\n                        <p> Welcome Back! </p>\n                    </div>\n                    <div style={{marginTop: \"40px\"}}>\n                        <Input iconPosition='left' placeholder='User name' size=\"big\">\n                            <Icon name='user'/>\n                            <input onChange={this.emailId}/>\n                        </Input>\n                    </div>\n                    <div style={{marginTop: \"20px\"}}>\n                        <Input iconPosition='left' placeholder='Password' size=\"big\">\n                            <Icon name='lock'/>\n                            <input type=\"password\" onChange={this.password}/>\n                        </Input>\n                    </div>\n                    <div style={{marginTop: \"20px\", textAlign: \"center\"}}>\n                        <button className=\"button\" onClick={this.submit}>\n                            Login\n                        </button>\n                    </div>\n                    <div style={{marginTop: \"20px\", textAlign: \"center\"}}>\n                        {this.state.login_error === null ? null :\n                            <span style={{color: \"red\", textAlign: \"center\"}}> {this.state.login_error} </span>}\n                    </div>\n                </div>\n            );\n        }\n    }\n}\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}