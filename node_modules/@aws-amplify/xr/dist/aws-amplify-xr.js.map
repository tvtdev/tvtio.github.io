{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///./lib-esm/Errors.js","webpack:///./lib-esm/Providers/SumerianProvider.js","webpack:///./lib-esm/Providers/XRProvider.js","webpack:///./lib-esm/XR.js","webpack:///./lib-esm/index.js","webpack:///external \"@aws-amplify/core\""],"names":["__extends","extendStatics","__proto__","d","b","Object","__","XRError","_super","XRNoSceneConfiguredError","XRSceneNotFoundError","XRSceneNotLoadedError","XRNoDomElement","XRSceneLoadFailure","XRProviderNotConfigured","__assign","i","n","arguments","s","t","__awaiter","value","resolve","P","step","generator","reject","result","adopt","_arguments","__generator","_","label","sent","trys","ops","next","verb","g","Symbol","f","y","op","done","body","SUMERIAN_SERVICE_NAME","logger","SumerianProvider","options","scriptElement","document","_b","errorMsg","element","scene","sceneUrl","sceneId","sceneRegion","awsSDKConfigOverride","region","customUserAgent","Constants","fetchOptions","headers","userAgent","url","Credentials","credentials","accessInfo","secret_key","access_key","session_token","sessionToken","serviceInfo","service","request","method","e_1","fetch","apiResponse","apiResponseJson","sceneBundleData","sceneBundle","sceneBundleJson","error_1","progressCallback","sceneOptions","publishParamOverrides","sceneLoadParams","window","sceneController","_i","_a","warning","AbstractXRProvider","config","get","enumerable","configurable","DEFAULT_PROVIDER_NAME","XR","_this","opt","name","provider","pluggable","_instance","Amplify"],"mappings":"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","file":"aws-amplify-xr.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"@aws-amplify/core\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"aws_amplify_xr\", [\"@aws-amplify/core\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"aws_amplify_xr\"] = factory(require(\"@aws-amplify/core\"));\n\telse\n\t\troot[\"aws_amplify_xr\"] = factory(root[\"@aws-amplify/core\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE__aws_amplify_core__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./lib-esm/index.js\");\n","/*\n * Copyright 2017-2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar XRError = /** @class */ (function (_super) {\n    __extends(XRError, _super);\n    function XRError() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return XRError;\n}(Error));\nexport { XRError };\nvar XRNoSceneConfiguredError = /** @class */ (function (_super) {\n    __extends(XRNoSceneConfiguredError, _super);\n    function XRNoSceneConfiguredError() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return XRNoSceneConfiguredError;\n}(XRError));\nexport { XRNoSceneConfiguredError };\nvar XRSceneNotFoundError = /** @class */ (function (_super) {\n    __extends(XRSceneNotFoundError, _super);\n    function XRSceneNotFoundError() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return XRSceneNotFoundError;\n}(XRError));\nexport { XRSceneNotFoundError };\nvar XRSceneNotLoadedError = /** @class */ (function (_super) {\n    __extends(XRSceneNotLoadedError, _super);\n    function XRSceneNotLoadedError() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return XRSceneNotLoadedError;\n}(XRError));\nexport { XRSceneNotLoadedError };\nvar XRNoDomElement = /** @class */ (function (_super) {\n    __extends(XRNoDomElement, _super);\n    function XRNoDomElement() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return XRNoDomElement;\n}(XRError));\nexport { XRNoDomElement };\nvar XRSceneLoadFailure = /** @class */ (function (_super) {\n    __extends(XRSceneLoadFailure, _super);\n    function XRSceneLoadFailure() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return XRSceneLoadFailure;\n}(XRError));\nexport { XRSceneLoadFailure };\nvar XRProviderNotConfigured = /** @class */ (function (_super) {\n    __extends(XRProviderNotConfigured, _super);\n    function XRProviderNotConfigured() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return XRProviderNotConfigured;\n}(XRError));\nexport { XRProviderNotConfigured };\n//# sourceMappingURL=Errors.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n/*\n * Copyright 2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nimport { ConsoleLogger as Logger, Signer, Credentials, Constants, } from '@aws-amplify/core';\nimport { AbstractXRProvider } from './XRProvider';\nimport { XRNoSceneConfiguredError, XRSceneNotFoundError, XRSceneNotLoadedError, XRNoDomElement, XRSceneLoadFailure, } from '../Errors';\nvar SUMERIAN_SERVICE_NAME = 'sumerian';\nvar logger = new Logger('SumerianProvider');\nvar SumerianProvider = /** @class */ (function (_super) {\n    __extends(SumerianProvider, _super);\n    function SumerianProvider(options) {\n        if (options === void 0) { options = {}; }\n        return _super.call(this, options) || this;\n    }\n    SumerianProvider.prototype.getProviderName = function () {\n        return 'SumerianProvider';\n    };\n    SumerianProvider.prototype.loadScript = function (url) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, new Promise(function (resolve, reject) {\n                        var scriptElement = document.createElement('script');\n                        scriptElement.src = url;\n                        scriptElement.addEventListener('load', function (event) {\n                            resolve();\n                        });\n                        scriptElement.addEventListener('error', function (event) {\n                            reject(new Error(\"Failed to load script: \" + url));\n                        });\n                        document.head.appendChild(scriptElement);\n                    })];\n            });\n        });\n    };\n    SumerianProvider.prototype.loadScene = function (sceneName, domElementId, sceneOptions) {\n        return __awaiter(this, void 0, void 0, function () {\n            var errorMsg, errorMsg, element, errorMsg, scene, errorMsg, sceneUrl, sceneId, sceneRegion, errorMsg, awsSDKConfigOverride, fetchOptions, url, credentials, accessInfo, serviceInfo, request, e_1, apiResponse, apiResponseJson, sceneBundleData, sceneBundle, sceneBundleJson, error_1, progressCallback, publishParamOverrides, sceneLoadParams, sceneController, _i, _a, warning;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        if (!sceneName) {\n                            errorMsg = 'No scene name passed into loadScene';\n                            logger.error(errorMsg);\n                            throw new XRSceneLoadFailure(errorMsg);\n                        }\n                        if (!domElementId) {\n                            errorMsg = 'No dom element id passed into loadScene';\n                            logger.error(errorMsg);\n                            throw new XRNoDomElement(errorMsg);\n                        }\n                        element = document.getElementById(domElementId);\n                        if (!element) {\n                            errorMsg = \"DOM element id, \" + domElementId + \" not found\";\n                            logger.error(errorMsg);\n                            throw new XRNoDomElement(errorMsg);\n                        }\n                        scene = this.getScene(sceneName);\n                        if (!scene.sceneConfig) {\n                            errorMsg = \"No scene config configured for scene: \" + sceneName;\n                            logger.error(errorMsg);\n                            throw new XRSceneLoadFailure(errorMsg);\n                        }\n                        sceneUrl = scene.sceneConfig.url;\n                        sceneId = scene.sceneConfig.sceneId;\n                        if (scene.sceneConfig.hasOwnProperty('region')) {\n                            // Use the scene region on the Sumerian scene configuration\n                            sceneRegion = scene.sceneConfig.region;\n                        }\n                        else if (this.options.hasOwnProperty('region')) {\n                            // Use the scene region on the XR category configuration\n                            sceneRegion = this.options.region;\n                        }\n                        else {\n                            errorMsg = \"No region configured for scene: \" + sceneName;\n                            logger.error(errorMsg);\n                            throw new XRSceneLoadFailure(errorMsg);\n                        }\n                        awsSDKConfigOverride = {\n                            region: sceneRegion,\n                            // This is passed to the AWS clients created in\n                            // Sumerian's AwsSystem\n                            // This helps other services(like Lex and Polly) to track\n                            // traffic coming from Sumerian scenes embedded with Amplify\n                            customUserAgent: Constants.userAgent + \"-SumerianScene\",\n                        };\n                        fetchOptions = {\n                            headers: {\n                                // This sets the AWS user agent string\n                                // So the Sumerian service knows this request is\n                                // from Amplify\n                                'X-Amz-User-Agent': Constants.userAgent,\n                            },\n                        };\n                        url = sceneUrl;\n                        _b.label = 1;\n                    case 1:\n                        _b.trys.push([1, 3, , 4]);\n                        return [4 /*yield*/, Credentials.get()];\n                    case 2:\n                        credentials = _b.sent();\n                        awsSDKConfigOverride['credentials'] = credentials;\n                        accessInfo = {\n                            secret_key: credentials.secretAccessKey,\n                            access_key: credentials.accessKeyId,\n                            session_token: credentials.sessionToken,\n                        };\n                        serviceInfo = {\n                            region: sceneRegion,\n                            service: SUMERIAN_SERVICE_NAME,\n                        };\n                        request = Signer.sign({ method: 'GET', url: sceneUrl }, accessInfo, serviceInfo);\n                        fetchOptions.headers = __assign(__assign({}, fetchOptions.headers), request.headers);\n                        url = request.url;\n                        return [3 /*break*/, 4];\n                    case 3:\n                        e_1 = _b.sent();\n                        logger.debug('No credentials available, the request will be unsigned');\n                        return [3 /*break*/, 4];\n                    case 4: return [4 /*yield*/, fetch(url, fetchOptions)];\n                    case 5:\n                        apiResponse = _b.sent();\n                        return [4 /*yield*/, apiResponse.json()];\n                    case 6:\n                        apiResponseJson = _b.sent();\n                        if (apiResponse.status === 403) {\n                            if (apiResponseJson.message) {\n                                logger.error(\"Failure to authenticate user: \" + apiResponseJson.message);\n                                throw new XRSceneLoadFailure(\"Failure to authenticate user: \" + apiResponseJson.message);\n                            }\n                            else {\n                                logger.error(\"Failure to authenticate user\");\n                                throw new XRSceneLoadFailure(\"Failure to authenticate user\");\n                            }\n                        }\n                        sceneBundleData = apiResponseJson.bundleData[sceneId];\n                        return [4 /*yield*/, fetch(sceneBundleData.url, {\n                                headers: sceneBundleData.headers,\n                            })];\n                    case 7:\n                        sceneBundle = _b.sent();\n                        return [4 /*yield*/, sceneBundle.json()];\n                    case 8:\n                        sceneBundleJson = _b.sent();\n                        _b.label = 9;\n                    case 9:\n                        _b.trys.push([9, 11, , 12]);\n                        // Load the Sumerian bootstrapper script into the DOM\n                        return [4 /*yield*/, this.loadScript(sceneBundleJson[sceneId].bootstrapperUrl)];\n                    case 10:\n                        // Load the Sumerian bootstrapper script into the DOM\n                        _b.sent();\n                        return [3 /*break*/, 12];\n                    case 11:\n                        error_1 = _b.sent();\n                        logger.error(error_1);\n                        throw new XRSceneLoadFailure(error_1);\n                    case 12:\n                        progressCallback = sceneOptions.progressCallback\n                            ? sceneOptions.progressCallback\n                            : undefined;\n                        publishParamOverrides = scene.publishParamOverrides\n                            ? scene.publishParamOverrides\n                            : undefined;\n                        sceneLoadParams = {\n                            element: element,\n                            sceneId: sceneId,\n                            sceneBundle: sceneBundleJson,\n                            apiResponse: apiResponseJson,\n                            progressCallback: progressCallback,\n                            publishParamOverrides: publishParamOverrides,\n                            awsSDKConfigOverride: awsSDKConfigOverride,\n                        };\n                        return [4 /*yield*/, window.SumerianBootstrapper.loadScene(sceneLoadParams)];\n                    case 13:\n                        sceneController = _b.sent();\n                        scene.sceneController = sceneController;\n                        scene.isLoaded = true;\n                        // Log scene warnings\n                        for (_i = 0, _a = sceneController.sceneLoadWarnings; _i < _a.length; _i++) {\n                            warning = _a[_i];\n                            logger.warn(\"loadScene warning: \" + warning);\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    SumerianProvider.prototype.isSceneLoaded = function (sceneName) {\n        var scene = this.getScene(sceneName);\n        return scene.isLoaded || false;\n    };\n    SumerianProvider.prototype.getScene = function (sceneName) {\n        if (!this.options.scenes) {\n            var errorMsg = 'No scenes were defined in the configuration';\n            logger.error(errorMsg);\n            throw new XRNoSceneConfiguredError(errorMsg);\n        }\n        if (!sceneName) {\n            var errorMsg = 'No scene name was passed';\n            logger.error(errorMsg);\n            throw new XRSceneNotFoundError(errorMsg);\n        }\n        if (!this.options.scenes[sceneName]) {\n            var errorMsg = \"Scene '\" + sceneName + \"' is not configured\";\n            logger.error(errorMsg);\n            throw new XRSceneNotFoundError(errorMsg);\n        }\n        return this.options.scenes[sceneName];\n    };\n    SumerianProvider.prototype.getSceneController = function (sceneName) {\n        if (!this.options.scenes) {\n            var errorMsg = 'No scenes were defined in the configuration';\n            logger.error(errorMsg);\n            throw new XRNoSceneConfiguredError(errorMsg);\n        }\n        var scene = this.options.scenes[sceneName];\n        if (!scene) {\n            var errorMsg = \"Scene '\" + sceneName + \"' is not configured\";\n            logger.error(errorMsg);\n            throw new XRSceneNotFoundError(errorMsg);\n        }\n        var sceneController = scene.sceneController;\n        if (!sceneController) {\n            var errorMsg = \"Scene controller for '\" + sceneName + \"' has not been loaded\";\n            logger.error(errorMsg);\n            throw new XRSceneNotLoadedError(errorMsg);\n        }\n        return sceneController;\n    };\n    SumerianProvider.prototype.isVRCapable = function (sceneName) {\n        var sceneController = this.getSceneController(sceneName);\n        return sceneController.vrCapable;\n    };\n    SumerianProvider.prototype.isVRPresentationActive = function (sceneName) {\n        var sceneController = this.getSceneController(sceneName);\n        return sceneController.vrPresentationActive;\n    };\n    SumerianProvider.prototype.start = function (sceneName) {\n        var sceneController = this.getSceneController(sceneName);\n        sceneController.start();\n    };\n    SumerianProvider.prototype.enterVR = function (sceneName) {\n        var sceneController = this.getSceneController(sceneName);\n        sceneController.enterVR();\n    };\n    SumerianProvider.prototype.exitVR = function (sceneName) {\n        var sceneController = this.getSceneController(sceneName);\n        sceneController.exitVR();\n    };\n    SumerianProvider.prototype.isMuted = function (sceneName) {\n        var sceneController = this.getSceneController(sceneName);\n        return sceneController.muted;\n    };\n    SumerianProvider.prototype.setMuted = function (sceneName, muted) {\n        var sceneController = this.getSceneController(sceneName);\n        sceneController.muted = muted;\n    };\n    SumerianProvider.prototype.onSceneEvent = function (sceneName, eventName, eventHandler) {\n        var sceneController = this.getSceneController(sceneName);\n        sceneController.on(eventName, eventHandler);\n    };\n    SumerianProvider.prototype.enableAudio = function (sceneName) {\n        var sceneController = this.getSceneController(sceneName);\n        sceneController.enableAudio();\n    };\n    return SumerianProvider;\n}(AbstractXRProvider));\nexport { SumerianProvider };\n//# sourceMappingURL=SumerianProvider.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { ConsoleLogger as Logger } from '@aws-amplify/core';\nvar logger = new Logger('AbstractXRProvider');\nvar AbstractXRProvider = /** @class */ (function () {\n    function AbstractXRProvider(options) {\n        if (options === void 0) { options = {}; }\n        this._config = options;\n    }\n    AbstractXRProvider.prototype.configure = function (config) {\n        if (config === void 0) { config = {}; }\n        this._config = __assign(__assign({}, config), this._config);\n        logger.debug(\"configure \" + this.getProviderName(), this._config);\n        return this.options;\n    };\n    AbstractXRProvider.prototype.getCategory = function () {\n        return 'XR';\n    };\n    Object.defineProperty(AbstractXRProvider.prototype, \"options\", {\n        get: function () {\n            return __assign({}, this._config);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return AbstractXRProvider;\n}());\nexport { AbstractXRProvider };\n//# sourceMappingURL=XRProvider.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n/*\n * Copyright 2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nimport { ConsoleLogger as Logger } from '@aws-amplify/core';\nimport { SumerianProvider } from './Providers/SumerianProvider';\nimport { XRProviderNotConfigured } from './Errors';\nvar logger = new Logger('XR');\nvar DEFAULT_PROVIDER_NAME = 'SumerianProvider';\nvar XR = /** @class */ (function () {\n    /**\n     * Initialize XR with AWS configurations\n     *\n     * @param {XROptions} options - Configuration object for XR\n     */\n    function XR(options) {\n        this._options = options;\n        logger.debug('XR Options', this._options);\n        this._defaultProvider = DEFAULT_PROVIDER_NAME;\n        this._pluggables = {};\n        // Add default provider\n        this.addPluggable(new SumerianProvider());\n    }\n    /**\n     * Configure XR part with configurations\n     *\n     * @param {XROptions} config - Configuration for XR\n     * @return {Object} - The current configuration\n     */\n    XR.prototype.configure = function (options) {\n        var _this = this;\n        var opt = options ? options.XR || options : {};\n        logger.debug('configure XR', { opt: opt });\n        this._options = Object.assign({}, this._options, opt);\n        Object.entries(this._pluggables).map(function (_a) {\n            var name = _a[0], provider = _a[1];\n            if (name === _this._defaultProvider && !opt[_this._defaultProvider]) {\n                provider.configure(_this._options);\n            }\n            else {\n                provider.configure(_this._options[name]);\n            }\n        });\n        return this._options;\n    };\n    /**\n     * add plugin into XR category\n     * @param {Object} pluggable - an instance of the plugin\n     */\n    XR.prototype.addPluggable = function (pluggable) {\n        return __awaiter(this, void 0, void 0, function () {\n            var config;\n            return __generator(this, function (_a) {\n                if (pluggable && pluggable.getCategory() === 'XR') {\n                    this._pluggables[pluggable.getProviderName()] = pluggable;\n                    config = pluggable.configure(this._options);\n                    return [2 /*return*/, config];\n                }\n                return [2 /*return*/];\n            });\n        });\n    };\n    XR.prototype.loadScene = function (sceneName, domElementId, sceneOptions, provider) {\n        if (sceneOptions === void 0) { sceneOptions = {}; }\n        if (provider === void 0) { provider = this._defaultProvider; }\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!this._pluggables[provider])\n                            throw new XRProviderNotConfigured(\"Provider '\" + provider + \"' not configured\");\n                        return [4 /*yield*/, this._pluggables[provider].loadScene(sceneName, domElementId, sceneOptions)];\n                    case 1: return [2 /*return*/, _a.sent()];\n                }\n            });\n        });\n    };\n    XR.prototype.isSceneLoaded = function (sceneName, provider) {\n        if (provider === void 0) { provider = this._defaultProvider; }\n        if (!this._pluggables[provider])\n            throw new XRProviderNotConfigured(\"Provider '\" + provider + \"' not configured\");\n        return this._pluggables[provider].isSceneLoaded(sceneName);\n    };\n    XR.prototype.getSceneController = function (sceneName, provider) {\n        if (provider === void 0) { provider = this._defaultProvider; }\n        if (!this._pluggables[provider])\n            throw new XRProviderNotConfigured(\"Provider '\" + provider + \"' not configured\");\n        return this._pluggables[provider].getSceneController(sceneName);\n    };\n    XR.prototype.isVRCapable = function (sceneName, provider) {\n        if (provider === void 0) { provider = this._defaultProvider; }\n        if (!this._pluggables[provider])\n            throw new XRProviderNotConfigured(\"Provider '\" + provider + \"' not configured\");\n        return this._pluggables[provider].isVRCapable(sceneName);\n    };\n    XR.prototype.isVRPresentationActive = function (sceneName, provider) {\n        if (provider === void 0) { provider = this._defaultProvider; }\n        if (!this._pluggables[provider])\n            throw new XRProviderNotConfigured(\"Provider '\" + provider + \"' not configured\");\n        return this._pluggables[provider].isVRPresentationActive(sceneName);\n    };\n    XR.prototype.start = function (sceneName, provider) {\n        if (provider === void 0) { provider = this._defaultProvider; }\n        if (!this._pluggables[provider])\n            throw new XRProviderNotConfigured(\"Provider '\" + provider + \"' not configured\");\n        return this._pluggables[provider].start(sceneName);\n    };\n    XR.prototype.enterVR = function (sceneName, provider) {\n        if (provider === void 0) { provider = this._defaultProvider; }\n        if (!this._pluggables[provider])\n            throw new XRProviderNotConfigured(\"Provider '\" + provider + \"' not configured\");\n        return this._pluggables[provider].enterVR(sceneName);\n    };\n    XR.prototype.exitVR = function (sceneName, provider) {\n        if (provider === void 0) { provider = this._defaultProvider; }\n        if (!this._pluggables[provider])\n            throw new XRProviderNotConfigured(\"Provider '\" + provider + \"' not configured\");\n        return this._pluggables[provider].exitVR(sceneName);\n    };\n    XR.prototype.isMuted = function (sceneName, provider) {\n        if (provider === void 0) { provider = this._defaultProvider; }\n        if (!this._pluggables[provider])\n            throw new XRProviderNotConfigured(\"Provider '\" + provider + \"' not configured\");\n        return this._pluggables[provider].isMuted(sceneName);\n    };\n    XR.prototype.setMuted = function (sceneName, muted, provider) {\n        if (provider === void 0) { provider = this._defaultProvider; }\n        if (!this._pluggables[provider])\n            throw new XRProviderNotConfigured(\"Provider '\" + provider + \"' not configured\");\n        return this._pluggables[provider].setMuted(sceneName, muted);\n    };\n    XR.prototype.onSceneEvent = function (sceneName, eventName, eventHandler, provider) {\n        if (provider === void 0) { provider = this._defaultProvider; }\n        if (!this._pluggables[provider])\n            throw new XRProviderNotConfigured(\"Provider '\" + provider + \"' not configured\");\n        return this._pluggables[provider].onSceneEvent(sceneName, eventName, eventHandler);\n    };\n    XR.prototype.enableAudio = function (sceneName, provider) {\n        if (provider === void 0) { provider = this._defaultProvider; }\n        if (!this._pluggables[provider])\n            throw new XRProviderNotConfigured(\"Provider '\" + provider + \"' not configured\");\n        return this._pluggables[provider].enableAudio(sceneName);\n    };\n    return XR;\n}());\nexport default XR;\n//# sourceMappingURL=XR.js.map","/*\n * Copyright 2017-2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nimport XRClass from './XR';\nimport Amplify, { ConsoleLogger as Logger } from '@aws-amplify/core';\nvar logger = new Logger('XR');\nvar _instance = null;\nif (!_instance) {\n    logger.debug('Create XR Instance');\n    _instance = new XRClass(null);\n}\nvar XR = _instance;\nAmplify.register(XR);\nexport default XR;\nexport * from './Providers/SumerianProvider';\nexport { XRClass };\nexport * from './Errors';\n//# sourceMappingURL=index.js.map","module.exports = __WEBPACK_EXTERNAL_MODULE__aws_amplify_core__;"],"sourceRoot":""}