{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///./lib-esm/JS.js","webpack:///external \"aws-sdk/global\"","webpack:///./node_modules/process/browser.js","webpack:///./node_modules/url/url.js","webpack:///./node_modules/punycode/punycode.js","webpack:///(webpack)/buildin/module.js","webpack:///(webpack)/buildin/global.js","webpack:///./node_modules/url/util.js","webpack:///./node_modules/querystring-es3/index.js","webpack:///./node_modules/querystring-es3/decode.js","webpack:///./node_modules/querystring-es3/encode.js","webpack:///./lib-esm/Logger/ConsoleLogger.js","webpack:///./lib-esm/Amplify.js","webpack:///./lib-esm/ClientDevice/browser.js","webpack:///./lib-esm/ClientDevice/index.js","webpack:///./lib-esm/Errors.js","webpack:///./lib-esm/Hub.js","webpack:///./lib-esm/I18n/I18n.js","webpack:///./lib-esm/I18n/index.js","webpack:///./lib-esm/Signer.js","webpack:///./lib-esm/Parser.js","webpack:///./lib-esm/OAuthHelper/GoogleOAuth.js","webpack:///./lib-esm/OAuthHelper/FacebookOAuth.js","webpack:///./lib-esm/OAuthHelper/index.js","webpack:///./lib-esm/StorageHelper/index.js","webpack:///./lib-esm/RNComponents/index.js","webpack:///./lib-esm/Credentials.js","webpack:///./lib-esm/ServiceWorker/ServiceWorker.js","webpack:///./lib-esm/Platform/index.js","webpack:///./lib-esm/index.js"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE__1__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","MIME_MAP","type","ext","JS","obj","list","field","dir","dirX","a","b","a_val","b_val","less","ret","attr","filename","defVal","filtered","mime","contentType","result","chars","Math","promise","isPending","isRejected","isFullfilled","data","e","isBrowser","window","isNode","process","whiteListForItself","whiteListForChildren","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","Error","defaultClearTimeout","runTimeout","fun","setTimeout","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","length","concat","drainQueue","timeout","len","run","marker","runClearTimeout","Item","array","noop","nextTick","args","Array","arguments","push","apply","title","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","umask","punycode","util","Url","protocol","slashes","auth","host","port","hostname","hash","search","query","pathname","path","href","parse","urlParse","resolve","source","relative","resolveObject","format","isString","protocolPattern","portPattern","simplePathPattern","unwise","autoEscape","nonHostChars","hostEndingChars","hostnamePartPattern","hostnamePartStart","unsafeProtocol","hostlessProtocol","slashedProtocol","querystring","url","parseQueryString","slashesDenoteHost","isObject","u","TypeError","queryIndex","indexOf","splitter","uSplit","split","replace","rest","join","trim","simplePath","exec","substr","proto","lowerProto","toLowerCase","match","atSign","hostEnd","hec","lastIndexOf","slice","decodeURIComponent","parseHost","ipv6Hostname","hostparts","part","newpart","j","k","charCodeAt","validParts","notHost","bit","unshift","toASCII","h","ae","esc","encodeURIComponent","escape","qm","keys","stringify","charAt","rel","tkeys","tk","tkey","rkeys","rk","rkey","v","relPath","shift","isSourceAbs","isRelAbs","mustEndAbs","removeAllDots","srcPath","psychotic","pop","isNullOrUndefined","authInHost","isNull","last","hasTrailingSlash","up","splice","isAbsolute","nodeType","freeGlobal","global","self","maxInt","base","tMin","tMax","skew","damp","initialBias","initialN","delimiter","regexPunycode","regexNonASCII","regexSeparators","errors","baseMinusTMin","floor","stringFromCharCode","String","fromCharCode","error","RangeError","map","fn","mapDomain","string","parts","ucs2decode","extra","output","counter","ucs2encode","digitToBasic","digit","flag","adapt","delta","numPoints","firstTime","decode","input","out","basic","index","oldi","w","baseMinusT","codePoint","inputLength","bias","encode","handledCPCount","basicLength","q","currentValue","handledCPCountPlusOne","qMinusT","test","webpackPolyfill","deprecate","paths","children","g","Function","arg","prop","qs","sep","eq","options","regexp","maxKeys","kstr","vstr","x","idx","isArray","xs","toString","stringifyPrimitive","isFinite","undefined","objectKeys","ks","f","res","__spreadArrays","il","jl","LOG_LEVELS","VERBOSE","DEBUG","INFO","WARN","ERROR","ConsoleLogger","level","dt","_padding","msg","_i","logger_level_name","logger_level","type_level","log","console","prefix","logger","Amplify","comp","config","_this","pluggable","clientInfo","nav","platform","product","vendor","userAgent","language","operaMatch","ieMatch","cfMatch","sMatch","awkMatch","anyMatch","browserType","timezone","tzMatch","Date","make","model","appVersion","browserClientInfo","ClientDevice","Browser","width","height","innerHeight","missingConfig","invalidParameter","__assign","AMPLIFY_SYMBOL","HubClass","channel","listener","pattern_1","patterns","find","_a","pattern","filter","holder","payload","ampSymbol","protectedChannels","capsule","patternInfo","callback","listenerName","isLegacyCallback","cb","payloadStr_1","groups","dispatchingCapsule","I18n","_options","lang","val","getByLanguage","lang_dict","_dict","vocabularies","_config","_i18n","__rest","crypto","AWS","encrypt","src","signed_headers","canonical_request","url_info","request","key_val","reencoded_val","key_a","key_b","headers","item","parse_service_info","parsed","service","region","credential_scope","d_str","string_to_sign","algorithm","dt_str","scope","get_signing_key","k_date","k_region","service_info","k_service","get_signature","signing_key","str_to_sign","Signer","access_info","request_str","serviceInfo","signature","authorization_header","get_authorization_header","urlOrRequest","accessInfo","expiration","urlToSign","method","body","now","toISOString","today","parsedUrl","signedHeaders","_b","credentialScope","sessionTokenRequired","queryParams","session_token","canonicalRequest","stringToSign","additionalQueryParams","Parser","amplifyConfig","Analytics","AWSPinpoint","appId","Auth","userPoolId","userPoolWebClientId","identityPoolId","mandatorySignIn","storageConfig","AWSS3","bucket","dangerouslyConnectToHttpEndpointForTesting","__awaiter","thisArg","_arguments","P","generator","reject","step","adopt","__generator","_","label","sent","trys","ops","next","verb","y","op","done","waitForInit","Promise","rej","refreshGoogleToken","_refreshGoogleTokenImpl","GoogleOAuth","ga","googleAuth","googleUser","authResponse","id_token","expires_at","profile","token","err","refreshFacebookToken","_refreshFacebookTokenImpl","FacebookOAuth","fb","fbResponse","response","accessToken","expiresIn","dataMemory","MemoryStorage","exception","StorageHelper","Linking","AppState","addEventListener","AsyncStorage","Credentials","refreshHandlers","_storage","_gettingCredPromise","cred","_isExpired","federatedInfo","provider","user","identity_id","that","_setCredentialsFromFederation","credentials","ts","expired","expireTime","attempted","identityId","getItem","e_1","IdentityPoolId","IdentityId","_loadCredentials","newCredentials","params","domain","google","facebook","amazon","developer","domains","logins","Logins","session","idToken","authenticated","info","id","_credentials","JSON","priority","e_2","_setCredentialsFromSession","accessKeyId","sessionToken","secretAccessKey","ServiceWorkerClass","configurable","filePath","navigator","registration","publicKey","subscription","userVisibleOnly","applicationServerKey","base64String","base64","repeat","rawData","outputArray","Uint8Array","message","event","currentState","attributes","state","packageInfo","Platform","isReactNative","Constants","customUserAgent"],"mappings":"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","file":"aws-amplify-core.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"aws-sdk/global\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"aws_amplify_core\", [\"aws-sdk/global\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"aws_amplify_core\"] = factory(require(\"aws-sdk/global\"));\n\telse\n\t\troot[\"aws_amplify_core\"] = factory(root[\"aws-sdk/global\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE__1__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 12);\n","/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nvar MIME_MAP = [\n    { type: 'text/plain', ext: 'txt' },\n    { type: 'text/html', ext: 'html' },\n    { type: 'text/javascript', ext: 'js' },\n    { type: 'text/css', ext: 'css' },\n    { type: 'text/csv', ext: 'csv' },\n    { type: 'text/yaml', ext: 'yml' },\n    { type: 'text/yaml', ext: 'yaml' },\n    { type: 'text/calendar', ext: 'ics' },\n    { type: 'text/calendar', ext: 'ical' },\n    { type: 'image/png', ext: 'png' },\n    { type: 'image/gif', ext: 'gif' },\n    { type: 'image/jpeg', ext: 'jpg' },\n    { type: 'image/jpeg', ext: 'jpeg' },\n    { type: 'image/bmp', ext: 'bmp' },\n    { type: 'image/x-icon', ext: 'ico' },\n    { type: 'image/tiff', ext: 'tif' },\n    { type: 'image/tiff', ext: 'tiff' },\n    { type: 'image/svg+xml', ext: 'svg' },\n    { type: 'application/json', ext: 'json' },\n    { type: 'application/xml', ext: 'xml' },\n    { type: 'application/x-sh', ext: 'sh' },\n    { type: 'application/zip', ext: 'zip' },\n    { type: 'application/x-rar-compressed', ext: 'rar' },\n    { type: 'application/x-tar', ext: 'tar' },\n    { type: 'application/x-bzip', ext: 'bz' },\n    { type: 'application/x-bzip2', ext: 'bz2' },\n    { type: 'application/pdf', ext: 'pdf' },\n    { type: 'application/java-archive', ext: 'jar' },\n    { type: 'application/msword', ext: 'doc' },\n    { type: 'application/vnd.ms-excel', ext: 'xls' },\n    { type: 'application/vnd.ms-excel', ext: 'xlsx' },\n    { type: 'message/rfc822', ext: 'eml' },\n];\nvar JS = /** @class */ (function () {\n    function JS() {\n    }\n    JS.isEmpty = function (obj) {\n        return Object.keys(obj).length === 0;\n    };\n    JS.sortByField = function (list, field, dir) {\n        if (!list || !list.sort) {\n            return false;\n        }\n        var dirX = dir && dir === 'desc' ? -1 : 1;\n        list.sort(function (a, b) {\n            var a_val = a[field];\n            var b_val = b[field];\n            if (typeof b_val === 'undefined') {\n                return typeof a_val === 'undefined' ? 0 : 1 * dirX;\n            }\n            if (typeof a_val === 'undefined') {\n                return -1 * dirX;\n            }\n            if (a_val < b_val) {\n                return -1 * dirX;\n            }\n            if (a_val > b_val) {\n                return 1 * dirX;\n            }\n            return 0;\n        });\n        return true;\n    };\n    JS.objectLessAttributes = function (obj, less) {\n        var ret = Object.assign({}, obj);\n        if (less) {\n            if (typeof less === 'string') {\n                delete ret[less];\n            }\n            else {\n                less.forEach(function (attr) {\n                    delete ret[attr];\n                });\n            }\n        }\n        return ret;\n    };\n    JS.filenameToContentType = function (filename, defVal) {\n        if (defVal === void 0) { defVal = 'application/octet-stream'; }\n        var name = filename.toLowerCase();\n        var filtered = MIME_MAP.filter(function (mime) { return name.endsWith('.' + mime.ext); });\n        return filtered.length > 0 ? filtered[0].type : defVal;\n    };\n    JS.isTextFile = function (contentType) {\n        var type = contentType.toLowerCase();\n        if (type.startsWith('text/')) {\n            return true;\n        }\n        return ('application/json' === type ||\n            'application/xml' === type ||\n            'application/sh' === type);\n    };\n    /**\n     * generate random string\n     */\n    JS.generateRandomString = function () {\n        var result = '';\n        var chars = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';\n        for (var i = 32; i > 0; i -= 1) {\n            result += chars[Math.floor(Math.random() * chars.length)];\n        }\n        return result;\n    };\n    JS.makeQuerablePromise = function (promise) {\n        if (promise.isResolved)\n            return promise;\n        var isPending = true;\n        var isRejected = false;\n        var isFullfilled = false;\n        var result = promise.then(function (data) {\n            isFullfilled = true;\n            isPending = false;\n            return data;\n        }, function (e) {\n            isRejected = true;\n            isPending = false;\n            throw e;\n        });\n        result.isFullfilled = function () {\n            return isFullfilled;\n        };\n        result.isPending = function () {\n            return isPending;\n        };\n        result.isRejected = function () {\n            return isRejected;\n        };\n        return result;\n    };\n    JS.browserOrNode = function () {\n        var isBrowser = typeof window !== 'undefined' && typeof window.document !== 'undefined';\n        var isNode = typeof process !== 'undefined' &&\n            process.versions != null &&\n            process.versions.node != null;\n        return {\n            isBrowser: isBrowser,\n            isNode: isNode,\n        };\n    };\n    /**\n     * transfer the first letter of the keys to lowercase\n     * @param {Object} obj - the object need to be transferred\n     * @param {Array} whiteListForItself - whitelist itself from being transferred\n     * @param {Array} whiteListForChildren - whitelist its children keys from being transferred\n     */\n    JS.transferKeyToLowerCase = function (obj, whiteListForItself, whiteListForChildren) {\n        if (whiteListForItself === void 0) { whiteListForItself = []; }\n        if (whiteListForChildren === void 0) { whiteListForChildren = []; }\n        if (!JS.isStrictObject(obj))\n            return obj;\n        var ret = {};\n        for (var key in obj) {\n            if (obj.hasOwnProperty(key)) {\n                var transferedKey = whiteListForItself.includes(key)\n                    ? key\n                    : key[0].toLowerCase() + key.slice(1);\n                ret[transferedKey] = whiteListForChildren.includes(key)\n                    ? obj[key]\n                    : JS.transferKeyToLowerCase(obj[key], whiteListForItself, whiteListForChildren);\n            }\n        }\n        return ret;\n    };\n    /**\n     * transfer the first letter of the keys to lowercase\n     * @param {Object} obj - the object need to be transferred\n     * @param {Array} whiteListForItself - whitelist itself from being transferred\n     * @param {Array} whiteListForChildren - whitelist its children keys from being transferred\n     */\n    JS.transferKeyToUpperCase = function (obj, whiteListForItself, whiteListForChildren) {\n        if (whiteListForItself === void 0) { whiteListForItself = []; }\n        if (whiteListForChildren === void 0) { whiteListForChildren = []; }\n        if (!JS.isStrictObject(obj))\n            return obj;\n        var ret = {};\n        for (var key in obj) {\n            if (obj.hasOwnProperty(key)) {\n                var transferedKey = whiteListForItself.includes(key)\n                    ? key\n                    : key[0].toUpperCase() + key.slice(1);\n                ret[transferedKey] = whiteListForChildren.includes(key)\n                    ? obj[key]\n                    : JS.transferKeyToUpperCase(obj[key], whiteListForItself, whiteListForChildren);\n            }\n        }\n        return ret;\n    };\n    /**\n     * Return true if the object is a strict object\n     * which means it's not Array, Function, Number, String, Boolean or Null\n     * @param obj the Object\n     */\n    JS.isStrictObject = function (obj) {\n        return (obj instanceof Object &&\n            !(obj instanceof Array) &&\n            !(obj instanceof Function) &&\n            !(obj instanceof Number) &&\n            !(obj instanceof String) &&\n            !(obj instanceof Boolean));\n    };\n    return JS;\n}());\nexport default JS;\n//# sourceMappingURL=JS.js.map","module.exports = __WEBPACK_EXTERNAL_MODULE__1__;","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar punycode = require('punycode');\nvar util = require('./util');\n\nexports.parse = urlParse;\nexports.resolve = urlResolve;\nexports.resolveObject = urlResolveObject;\nexports.format = urlFormat;\n\nexports.Url = Url;\n\nfunction Url() {\n  this.protocol = null;\n  this.slashes = null;\n  this.auth = null;\n  this.host = null;\n  this.port = null;\n  this.hostname = null;\n  this.hash = null;\n  this.search = null;\n  this.query = null;\n  this.pathname = null;\n  this.path = null;\n  this.href = null;\n}\n\n// Reference: RFC 3986, RFC 1808, RFC 2396\n\n// define these here so at least they only have to be\n// compiled once on the first module load.\nvar protocolPattern = /^([a-z0-9.+-]+:)/i,\n    portPattern = /:[0-9]*$/,\n\n    // Special case for a simple path URL\n    simplePathPattern = /^(\\/\\/?(?!\\/)[^\\?\\s]*)(\\?[^\\s]*)?$/,\n\n    // RFC 2396: characters reserved for delimiting URLs.\n    // We actually just auto-escape these.\n    delims = ['<', '>', '\"', '`', ' ', '\\r', '\\n', '\\t'],\n\n    // RFC 2396: characters not allowed for various reasons.\n    unwise = ['{', '}', '|', '\\\\', '^', '`'].concat(delims),\n\n    // Allowed by RFCs, but cause of XSS attacks.  Always escape these.\n    autoEscape = ['\\''].concat(unwise),\n    // Characters that are never ever allowed in a hostname.\n    // Note that any invalid chars are also handled, but these\n    // are the ones that are *expected* to be seen, so we fast-path\n    // them.\n    nonHostChars = ['%', '/', '?', ';', '#'].concat(autoEscape),\n    hostEndingChars = ['/', '?', '#'],\n    hostnameMaxLen = 255,\n    hostnamePartPattern = /^[+a-z0-9A-Z_-]{0,63}$/,\n    hostnamePartStart = /^([+a-z0-9A-Z_-]{0,63})(.*)$/,\n    // protocols that can allow \"unsafe\" and \"unwise\" chars.\n    unsafeProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that never have a hostname.\n    hostlessProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that always contain a // bit.\n    slashedProtocol = {\n      'http': true,\n      'https': true,\n      'ftp': true,\n      'gopher': true,\n      'file': true,\n      'http:': true,\n      'https:': true,\n      'ftp:': true,\n      'gopher:': true,\n      'file:': true\n    },\n    querystring = require('querystring');\n\nfunction urlParse(url, parseQueryString, slashesDenoteHost) {\n  if (url && util.isObject(url) && url instanceof Url) return url;\n\n  var u = new Url;\n  u.parse(url, parseQueryString, slashesDenoteHost);\n  return u;\n}\n\nUrl.prototype.parse = function(url, parseQueryString, slashesDenoteHost) {\n  if (!util.isString(url)) {\n    throw new TypeError(\"Parameter 'url' must be a string, not \" + typeof url);\n  }\n\n  // Copy chrome, IE, opera backslash-handling behavior.\n  // Back slashes before the query string get converted to forward slashes\n  // See: https://code.google.com/p/chromium/issues/detail?id=25916\n  var queryIndex = url.indexOf('?'),\n      splitter =\n          (queryIndex !== -1 && queryIndex < url.indexOf('#')) ? '?' : '#',\n      uSplit = url.split(splitter),\n      slashRegex = /\\\\/g;\n  uSplit[0] = uSplit[0].replace(slashRegex, '/');\n  url = uSplit.join(splitter);\n\n  var rest = url;\n\n  // trim before proceeding.\n  // This is to support parse stuff like \"  http://foo.com  \\n\"\n  rest = rest.trim();\n\n  if (!slashesDenoteHost && url.split('#').length === 1) {\n    // Try fast path regexp\n    var simplePath = simplePathPattern.exec(rest);\n    if (simplePath) {\n      this.path = rest;\n      this.href = rest;\n      this.pathname = simplePath[1];\n      if (simplePath[2]) {\n        this.search = simplePath[2];\n        if (parseQueryString) {\n          this.query = querystring.parse(this.search.substr(1));\n        } else {\n          this.query = this.search.substr(1);\n        }\n      } else if (parseQueryString) {\n        this.search = '';\n        this.query = {};\n      }\n      return this;\n    }\n  }\n\n  var proto = protocolPattern.exec(rest);\n  if (proto) {\n    proto = proto[0];\n    var lowerProto = proto.toLowerCase();\n    this.protocol = lowerProto;\n    rest = rest.substr(proto.length);\n  }\n\n  // figure out if it's got a host\n  // user@server is *always* interpreted as a hostname, and url\n  // resolution will treat //foo/bar as host=foo,path=bar because that's\n  // how the browser resolves relative URLs.\n  if (slashesDenoteHost || proto || rest.match(/^\\/\\/[^@\\/]+@[^@\\/]+/)) {\n    var slashes = rest.substr(0, 2) === '//';\n    if (slashes && !(proto && hostlessProtocol[proto])) {\n      rest = rest.substr(2);\n      this.slashes = true;\n    }\n  }\n\n  if (!hostlessProtocol[proto] &&\n      (slashes || (proto && !slashedProtocol[proto]))) {\n\n    // there's a hostname.\n    // the first instance of /, ?, ;, or # ends the host.\n    //\n    // If there is an @ in the hostname, then non-host chars *are* allowed\n    // to the left of the last @ sign, unless some host-ending character\n    // comes *before* the @-sign.\n    // URLs are obnoxious.\n    //\n    // ex:\n    // http://a@b@c/ => user:a@b host:c\n    // http://a@b?@c => user:a host:c path:/?@c\n\n    // v0.12 TODO(isaacs): This is not quite how Chrome does things.\n    // Review our test case against browsers more comprehensively.\n\n    // find the first instance of any hostEndingChars\n    var hostEnd = -1;\n    for (var i = 0; i < hostEndingChars.length; i++) {\n      var hec = rest.indexOf(hostEndingChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n\n    // at this point, either we have an explicit point where the\n    // auth portion cannot go past, or the last @ char is the decider.\n    var auth, atSign;\n    if (hostEnd === -1) {\n      // atSign can be anywhere.\n      atSign = rest.lastIndexOf('@');\n    } else {\n      // atSign must be in auth portion.\n      // http://a@b/c@d => host:b auth:a path:/c@d\n      atSign = rest.lastIndexOf('@', hostEnd);\n    }\n\n    // Now we have a portion which is definitely the auth.\n    // Pull that off.\n    if (atSign !== -1) {\n      auth = rest.slice(0, atSign);\n      rest = rest.slice(atSign + 1);\n      this.auth = decodeURIComponent(auth);\n    }\n\n    // the host is the remaining to the left of the first non-host char\n    hostEnd = -1;\n    for (var i = 0; i < nonHostChars.length; i++) {\n      var hec = rest.indexOf(nonHostChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n    // if we still have not hit it, then the entire thing is a host.\n    if (hostEnd === -1)\n      hostEnd = rest.length;\n\n    this.host = rest.slice(0, hostEnd);\n    rest = rest.slice(hostEnd);\n\n    // pull out port.\n    this.parseHost();\n\n    // we've indicated that there is a hostname,\n    // so even if it's empty, it has to be present.\n    this.hostname = this.hostname || '';\n\n    // if hostname begins with [ and ends with ]\n    // assume that it's an IPv6 address.\n    var ipv6Hostname = this.hostname[0] === '[' &&\n        this.hostname[this.hostname.length - 1] === ']';\n\n    // validate a little.\n    if (!ipv6Hostname) {\n      var hostparts = this.hostname.split(/\\./);\n      for (var i = 0, l = hostparts.length; i < l; i++) {\n        var part = hostparts[i];\n        if (!part) continue;\n        if (!part.match(hostnamePartPattern)) {\n          var newpart = '';\n          for (var j = 0, k = part.length; j < k; j++) {\n            if (part.charCodeAt(j) > 127) {\n              // we replace non-ASCII char with a temporary placeholder\n              // we need this to make sure size of hostname is not\n              // broken by replacing non-ASCII by nothing\n              newpart += 'x';\n            } else {\n              newpart += part[j];\n            }\n          }\n          // we test again with ASCII char only\n          if (!newpart.match(hostnamePartPattern)) {\n            var validParts = hostparts.slice(0, i);\n            var notHost = hostparts.slice(i + 1);\n            var bit = part.match(hostnamePartStart);\n            if (bit) {\n              validParts.push(bit[1]);\n              notHost.unshift(bit[2]);\n            }\n            if (notHost.length) {\n              rest = '/' + notHost.join('.') + rest;\n            }\n            this.hostname = validParts.join('.');\n            break;\n          }\n        }\n      }\n    }\n\n    if (this.hostname.length > hostnameMaxLen) {\n      this.hostname = '';\n    } else {\n      // hostnames are always lower case.\n      this.hostname = this.hostname.toLowerCase();\n    }\n\n    if (!ipv6Hostname) {\n      // IDNA Support: Returns a punycoded representation of \"domain\".\n      // It only converts parts of the domain name that\n      // have non-ASCII characters, i.e. it doesn't matter if\n      // you call it with a domain that already is ASCII-only.\n      this.hostname = punycode.toASCII(this.hostname);\n    }\n\n    var p = this.port ? ':' + this.port : '';\n    var h = this.hostname || '';\n    this.host = h + p;\n    this.href += this.host;\n\n    // strip [ and ] from the hostname\n    // the host field still retains them, though\n    if (ipv6Hostname) {\n      this.hostname = this.hostname.substr(1, this.hostname.length - 2);\n      if (rest[0] !== '/') {\n        rest = '/' + rest;\n      }\n    }\n  }\n\n  // now rest is set to the post-host stuff.\n  // chop off any delim chars.\n  if (!unsafeProtocol[lowerProto]) {\n\n    // First, make 100% sure that any \"autoEscape\" chars get\n    // escaped, even if encodeURIComponent doesn't think they\n    // need to be.\n    for (var i = 0, l = autoEscape.length; i < l; i++) {\n      var ae = autoEscape[i];\n      if (rest.indexOf(ae) === -1)\n        continue;\n      var esc = encodeURIComponent(ae);\n      if (esc === ae) {\n        esc = escape(ae);\n      }\n      rest = rest.split(ae).join(esc);\n    }\n  }\n\n\n  // chop off from the tail first.\n  var hash = rest.indexOf('#');\n  if (hash !== -1) {\n    // got a fragment string.\n    this.hash = rest.substr(hash);\n    rest = rest.slice(0, hash);\n  }\n  var qm = rest.indexOf('?');\n  if (qm !== -1) {\n    this.search = rest.substr(qm);\n    this.query = rest.substr(qm + 1);\n    if (parseQueryString) {\n      this.query = querystring.parse(this.query);\n    }\n    rest = rest.slice(0, qm);\n  } else if (parseQueryString) {\n    // no query string, but parseQueryString still requested\n    this.search = '';\n    this.query = {};\n  }\n  if (rest) this.pathname = rest;\n  if (slashedProtocol[lowerProto] &&\n      this.hostname && !this.pathname) {\n    this.pathname = '/';\n  }\n\n  //to support http.request\n  if (this.pathname || this.search) {\n    var p = this.pathname || '';\n    var s = this.search || '';\n    this.path = p + s;\n  }\n\n  // finally, reconstruct the href based on what has been validated.\n  this.href = this.format();\n  return this;\n};\n\n// format a parsed object into a url string\nfunction urlFormat(obj) {\n  // ensure it's an object, and not a string url.\n  // If it's an obj, this is a no-op.\n  // this way, you can call url_format() on strings\n  // to clean up potentially wonky urls.\n  if (util.isString(obj)) obj = urlParse(obj);\n  if (!(obj instanceof Url)) return Url.prototype.format.call(obj);\n  return obj.format();\n}\n\nUrl.prototype.format = function() {\n  var auth = this.auth || '';\n  if (auth) {\n    auth = encodeURIComponent(auth);\n    auth = auth.replace(/%3A/i, ':');\n    auth += '@';\n  }\n\n  var protocol = this.protocol || '',\n      pathname = this.pathname || '',\n      hash = this.hash || '',\n      host = false,\n      query = '';\n\n  if (this.host) {\n    host = auth + this.host;\n  } else if (this.hostname) {\n    host = auth + (this.hostname.indexOf(':') === -1 ?\n        this.hostname :\n        '[' + this.hostname + ']');\n    if (this.port) {\n      host += ':' + this.port;\n    }\n  }\n\n  if (this.query &&\n      util.isObject(this.query) &&\n      Object.keys(this.query).length) {\n    query = querystring.stringify(this.query);\n  }\n\n  var search = this.search || (query && ('?' + query)) || '';\n\n  if (protocol && protocol.substr(-1) !== ':') protocol += ':';\n\n  // only the slashedProtocols get the //.  Not mailto:, xmpp:, etc.\n  // unless they had them to begin with.\n  if (this.slashes ||\n      (!protocol || slashedProtocol[protocol]) && host !== false) {\n    host = '//' + (host || '');\n    if (pathname && pathname.charAt(0) !== '/') pathname = '/' + pathname;\n  } else if (!host) {\n    host = '';\n  }\n\n  if (hash && hash.charAt(0) !== '#') hash = '#' + hash;\n  if (search && search.charAt(0) !== '?') search = '?' + search;\n\n  pathname = pathname.replace(/[?#]/g, function(match) {\n    return encodeURIComponent(match);\n  });\n  search = search.replace('#', '%23');\n\n  return protocol + host + pathname + search + hash;\n};\n\nfunction urlResolve(source, relative) {\n  return urlParse(source, false, true).resolve(relative);\n}\n\nUrl.prototype.resolve = function(relative) {\n  return this.resolveObject(urlParse(relative, false, true)).format();\n};\n\nfunction urlResolveObject(source, relative) {\n  if (!source) return relative;\n  return urlParse(source, false, true).resolveObject(relative);\n}\n\nUrl.prototype.resolveObject = function(relative) {\n  if (util.isString(relative)) {\n    var rel = new Url();\n    rel.parse(relative, false, true);\n    relative = rel;\n  }\n\n  var result = new Url();\n  var tkeys = Object.keys(this);\n  for (var tk = 0; tk < tkeys.length; tk++) {\n    var tkey = tkeys[tk];\n    result[tkey] = this[tkey];\n  }\n\n  // hash is always overridden, no matter what.\n  // even href=\"\" will remove it.\n  result.hash = relative.hash;\n\n  // if the relative url is empty, then there's nothing left to do here.\n  if (relative.href === '') {\n    result.href = result.format();\n    return result;\n  }\n\n  // hrefs like //foo/bar always cut to the protocol.\n  if (relative.slashes && !relative.protocol) {\n    // take everything except the protocol from relative\n    var rkeys = Object.keys(relative);\n    for (var rk = 0; rk < rkeys.length; rk++) {\n      var rkey = rkeys[rk];\n      if (rkey !== 'protocol')\n        result[rkey] = relative[rkey];\n    }\n\n    //urlParse appends trailing / to urls like http://www.example.com\n    if (slashedProtocol[result.protocol] &&\n        result.hostname && !result.pathname) {\n      result.path = result.pathname = '/';\n    }\n\n    result.href = result.format();\n    return result;\n  }\n\n  if (relative.protocol && relative.protocol !== result.protocol) {\n    // if it's a known url protocol, then changing\n    // the protocol does weird things\n    // first, if it's not file:, then we MUST have a host,\n    // and if there was a path\n    // to begin with, then we MUST have a path.\n    // if it is file:, then the host is dropped,\n    // because that's known to be hostless.\n    // anything else is assumed to be absolute.\n    if (!slashedProtocol[relative.protocol]) {\n      var keys = Object.keys(relative);\n      for (var v = 0; v < keys.length; v++) {\n        var k = keys[v];\n        result[k] = relative[k];\n      }\n      result.href = result.format();\n      return result;\n    }\n\n    result.protocol = relative.protocol;\n    if (!relative.host && !hostlessProtocol[relative.protocol]) {\n      var relPath = (relative.pathname || '').split('/');\n      while (relPath.length && !(relative.host = relPath.shift()));\n      if (!relative.host) relative.host = '';\n      if (!relative.hostname) relative.hostname = '';\n      if (relPath[0] !== '') relPath.unshift('');\n      if (relPath.length < 2) relPath.unshift('');\n      result.pathname = relPath.join('/');\n    } else {\n      result.pathname = relative.pathname;\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    result.host = relative.host || '';\n    result.auth = relative.auth;\n    result.hostname = relative.hostname || relative.host;\n    result.port = relative.port;\n    // to support http.request\n    if (result.pathname || result.search) {\n      var p = result.pathname || '';\n      var s = result.search || '';\n      result.path = p + s;\n    }\n    result.slashes = result.slashes || relative.slashes;\n    result.href = result.format();\n    return result;\n  }\n\n  var isSourceAbs = (result.pathname && result.pathname.charAt(0) === '/'),\n      isRelAbs = (\n          relative.host ||\n          relative.pathname && relative.pathname.charAt(0) === '/'\n      ),\n      mustEndAbs = (isRelAbs || isSourceAbs ||\n                    (result.host && relative.pathname)),\n      removeAllDots = mustEndAbs,\n      srcPath = result.pathname && result.pathname.split('/') || [],\n      relPath = relative.pathname && relative.pathname.split('/') || [],\n      psychotic = result.protocol && !slashedProtocol[result.protocol];\n\n  // if the url is a non-slashed url, then relative\n  // links like ../.. should be able\n  // to crawl up to the hostname, as well.  This is strange.\n  // result.protocol has already been set by now.\n  // Later on, put the first path part into the host field.\n  if (psychotic) {\n    result.hostname = '';\n    result.port = null;\n    if (result.host) {\n      if (srcPath[0] === '') srcPath[0] = result.host;\n      else srcPath.unshift(result.host);\n    }\n    result.host = '';\n    if (relative.protocol) {\n      relative.hostname = null;\n      relative.port = null;\n      if (relative.host) {\n        if (relPath[0] === '') relPath[0] = relative.host;\n        else relPath.unshift(relative.host);\n      }\n      relative.host = null;\n    }\n    mustEndAbs = mustEndAbs && (relPath[0] === '' || srcPath[0] === '');\n  }\n\n  if (isRelAbs) {\n    // it's absolute.\n    result.host = (relative.host || relative.host === '') ?\n                  relative.host : result.host;\n    result.hostname = (relative.hostname || relative.hostname === '') ?\n                      relative.hostname : result.hostname;\n    result.search = relative.search;\n    result.query = relative.query;\n    srcPath = relPath;\n    // fall through to the dot-handling below.\n  } else if (relPath.length) {\n    // it's relative\n    // throw away the existing file, and take the new path instead.\n    if (!srcPath) srcPath = [];\n    srcPath.pop();\n    srcPath = srcPath.concat(relPath);\n    result.search = relative.search;\n    result.query = relative.query;\n  } else if (!util.isNullOrUndefined(relative.search)) {\n    // just pull out the search.\n    // like href='?foo'.\n    // Put this after the other two cases because it simplifies the booleans\n    if (psychotic) {\n      result.hostname = result.host = srcPath.shift();\n      //occationaly the auth can get stuck only in host\n      //this especially happens in cases like\n      //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n      var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                       result.host.split('@') : false;\n      if (authInHost) {\n        result.auth = authInHost.shift();\n        result.host = result.hostname = authInHost.shift();\n      }\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    //to support http.request\n    if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n      result.path = (result.pathname ? result.pathname : '') +\n                    (result.search ? result.search : '');\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  if (!srcPath.length) {\n    // no path at all.  easy.\n    // we've already handled the other stuff above.\n    result.pathname = null;\n    //to support http.request\n    if (result.search) {\n      result.path = '/' + result.search;\n    } else {\n      result.path = null;\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  // if a url ENDs in . or .., then it must get a trailing slash.\n  // however, if it ends in anything else non-slashy,\n  // then it must NOT get a trailing slash.\n  var last = srcPath.slice(-1)[0];\n  var hasTrailingSlash = (\n      (result.host || relative.host || srcPath.length > 1) &&\n      (last === '.' || last === '..') || last === '');\n\n  // strip single dots, resolve double dots to parent dir\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = srcPath.length; i >= 0; i--) {\n    last = srcPath[i];\n    if (last === '.') {\n      srcPath.splice(i, 1);\n    } else if (last === '..') {\n      srcPath.splice(i, 1);\n      up++;\n    } else if (up) {\n      srcPath.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (!mustEndAbs && !removeAllDots) {\n    for (; up--; up) {\n      srcPath.unshift('..');\n    }\n  }\n\n  if (mustEndAbs && srcPath[0] !== '' &&\n      (!srcPath[0] || srcPath[0].charAt(0) !== '/')) {\n    srcPath.unshift('');\n  }\n\n  if (hasTrailingSlash && (srcPath.join('/').substr(-1) !== '/')) {\n    srcPath.push('');\n  }\n\n  var isAbsolute = srcPath[0] === '' ||\n      (srcPath[0] && srcPath[0].charAt(0) === '/');\n\n  // put the host back\n  if (psychotic) {\n    result.hostname = result.host = isAbsolute ? '' :\n                                    srcPath.length ? srcPath.shift() : '';\n    //occationaly the auth can get stuck only in host\n    //this especially happens in cases like\n    //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n    var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                     result.host.split('@') : false;\n    if (authInHost) {\n      result.auth = authInHost.shift();\n      result.host = result.hostname = authInHost.shift();\n    }\n  }\n\n  mustEndAbs = mustEndAbs || (result.host && srcPath.length);\n\n  if (mustEndAbs && !isAbsolute) {\n    srcPath.unshift('');\n  }\n\n  if (!srcPath.length) {\n    result.pathname = null;\n    result.path = null;\n  } else {\n    result.pathname = srcPath.join('/');\n  }\n\n  //to support request.http\n  if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n    result.path = (result.pathname ? result.pathname : '') +\n                  (result.search ? result.search : '');\n  }\n  result.auth = relative.auth || result.auth;\n  result.slashes = result.slashes || relative.slashes;\n  result.href = result.format();\n  return result;\n};\n\nUrl.prototype.parseHost = function() {\n  var host = this.host;\n  var port = portPattern.exec(host);\n  if (port) {\n    port = port[0];\n    if (port !== ':') {\n      this.port = port.substr(1);\n    }\n    host = host.substr(0, host.length - port.length);\n  }\n  if (host) this.hostname = host;\n};\n","/*! https://mths.be/punycode v1.4.1 by @mathias */\n;(function(root) {\n\n\t/** Detect free variables */\n\tvar freeExports = typeof exports == 'object' && exports &&\n\t\t!exports.nodeType && exports;\n\tvar freeModule = typeof module == 'object' && module &&\n\t\t!module.nodeType && module;\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (\n\t\tfreeGlobal.global === freeGlobal ||\n\t\tfreeGlobal.window === freeGlobal ||\n\t\tfreeGlobal.self === freeGlobal\n\t) {\n\t\troot = freeGlobal;\n\t}\n\n\t/**\n\t * The `punycode` object.\n\t * @name punycode\n\t * @type Object\n\t */\n\tvar punycode,\n\n\t/** Highest positive signed 32-bit float value */\n\tmaxInt = 2147483647, // aka. 0x7FFFFFFF or 2^31-1\n\n\t/** Bootstring parameters */\n\tbase = 36,\n\ttMin = 1,\n\ttMax = 26,\n\tskew = 38,\n\tdamp = 700,\n\tinitialBias = 72,\n\tinitialN = 128, // 0x80\n\tdelimiter = '-', // '\\x2D'\n\n\t/** Regular expressions */\n\tregexPunycode = /^xn--/,\n\tregexNonASCII = /[^\\x20-\\x7E]/, // unprintable ASCII chars + non-ASCII chars\n\tregexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g, // RFC 3490 separators\n\n\t/** Error messages */\n\terrors = {\n\t\t'overflow': 'Overflow: input needs wider integers to process',\n\t\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t\t'invalid-input': 'Invalid input'\n\t},\n\n\t/** Convenience shortcuts */\n\tbaseMinusTMin = base - tMin,\n\tfloor = Math.floor,\n\tstringFromCharCode = String.fromCharCode,\n\n\t/** Temporary variable */\n\tkey;\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/**\n\t * A generic error utility function.\n\t * @private\n\t * @param {String} type The error type.\n\t * @returns {Error} Throws a `RangeError` with the applicable error message.\n\t */\n\tfunction error(type) {\n\t\tthrow new RangeError(errors[type]);\n\t}\n\n\t/**\n\t * A generic `Array#map` utility function.\n\t * @private\n\t * @param {Array} array The array to iterate over.\n\t * @param {Function} callback The function that gets called for every array\n\t * item.\n\t * @returns {Array} A new array of values returned by the callback function.\n\t */\n\tfunction map(array, fn) {\n\t\tvar length = array.length;\n\t\tvar result = [];\n\t\twhile (length--) {\n\t\t\tresult[length] = fn(array[length]);\n\t\t}\n\t\treturn result;\n\t}\n\n\t/**\n\t * A simple `Array#map`-like wrapper to work with domain name strings or email\n\t * addresses.\n\t * @private\n\t * @param {String} domain The domain name or email address.\n\t * @param {Function} callback The function that gets called for every\n\t * character.\n\t * @returns {Array} A new string of characters returned by the callback\n\t * function.\n\t */\n\tfunction mapDomain(string, fn) {\n\t\tvar parts = string.split('@');\n\t\tvar result = '';\n\t\tif (parts.length > 1) {\n\t\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t\t// the local part (i.e. everything up to `@`) intact.\n\t\t\tresult = parts[0] + '@';\n\t\t\tstring = parts[1];\n\t\t}\n\t\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\t\tstring = string.replace(regexSeparators, '\\x2E');\n\t\tvar labels = string.split('.');\n\t\tvar encoded = map(labels, fn).join('.');\n\t\treturn result + encoded;\n\t}\n\n\t/**\n\t * Creates an array containing the numeric code points of each Unicode\n\t * character in the string. While JavaScript uses UCS-2 internally,\n\t * this function will convert a pair of surrogate halves (each of which\n\t * UCS-2 exposes as separate characters) into a single code point,\n\t * matching UTF-16.\n\t * @see `punycode.ucs2.encode`\n\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t * @memberOf punycode.ucs2\n\t * @name decode\n\t * @param {String} string The Unicode input string (UCS-2).\n\t * @returns {Array} The new array of code points.\n\t */\n\tfunction ucs2decode(string) {\n\t\tvar output = [],\n\t\t    counter = 0,\n\t\t    length = string.length,\n\t\t    value,\n\t\t    extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t/**\n\t * Creates a string based on an array of numeric code points.\n\t * @see `punycode.ucs2.decode`\n\t * @memberOf punycode.ucs2\n\t * @name encode\n\t * @param {Array} codePoints The array of numeric code points.\n\t * @returns {String} The new Unicode string (UCS-2).\n\t */\n\tfunction ucs2encode(array) {\n\t\treturn map(array, function(value) {\n\t\t\tvar output = '';\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t\treturn output;\n\t\t}).join('');\n\t}\n\n\t/**\n\t * Converts a basic code point into a digit/integer.\n\t * @see `digitToBasic()`\n\t * @private\n\t * @param {Number} codePoint The basic numeric code point value.\n\t * @returns {Number} The numeric value of a basic code point (for use in\n\t * representing integers) in the range `0` to `base - 1`, or `base` if\n\t * the code point does not represent a value.\n\t */\n\tfunction basicToDigit(codePoint) {\n\t\tif (codePoint - 48 < 10) {\n\t\t\treturn codePoint - 22;\n\t\t}\n\t\tif (codePoint - 65 < 26) {\n\t\t\treturn codePoint - 65;\n\t\t}\n\t\tif (codePoint - 97 < 26) {\n\t\t\treturn codePoint - 97;\n\t\t}\n\t\treturn base;\n\t}\n\n\t/**\n\t * Converts a digit/integer into a basic code point.\n\t * @see `basicToDigit()`\n\t * @private\n\t * @param {Number} digit The numeric value of a basic code point.\n\t * @returns {Number} The basic code point whose value (when used for\n\t * representing integers) is `digit`, which needs to be in the range\n\t * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n\t * used; else, the lowercase form is used. The behavior is undefined\n\t * if `flag` is non-zero and `digit` has no uppercase form.\n\t */\n\tfunction digitToBasic(digit, flag) {\n\t\t//  0..25 map to ASCII a..z or A..Z\n\t\t// 26..35 map to ASCII 0..9\n\t\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n\t}\n\n\t/**\n\t * Bias adaptation function as per section 3.4 of RFC 3492.\n\t * https://tools.ietf.org/html/rfc3492#section-3.4\n\t * @private\n\t */\n\tfunction adapt(delta, numPoints, firstTime) {\n\t\tvar k = 0;\n\t\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\t\tdelta += floor(delta / numPoints);\n\t\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\t\tdelta = floor(delta / baseMinusTMin);\n\t\t}\n\t\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n\t}\n\n\t/**\n\t * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n\t * symbols.\n\t * @memberOf punycode\n\t * @param {String} input The Punycode string of ASCII-only symbols.\n\t * @returns {String} The resulting string of Unicode symbols.\n\t */\n\tfunction decode(input) {\n\t\t// Don't use UCS-2\n\t\tvar output = [],\n\t\t    inputLength = input.length,\n\t\t    out,\n\t\t    i = 0,\n\t\t    n = initialN,\n\t\t    bias = initialBias,\n\t\t    basic,\n\t\t    j,\n\t\t    index,\n\t\t    oldi,\n\t\t    w,\n\t\t    k,\n\t\t    digit,\n\t\t    t,\n\t\t    /** Cached calculation results */\n\t\t    baseMinusT;\n\n\t\t// Handle the basic code points: let `basic` be the number of input code\n\t\t// points before the last delimiter, or `0` if there is none, then copy\n\t\t// the first basic code points to the output.\n\n\t\tbasic = input.lastIndexOf(delimiter);\n\t\tif (basic < 0) {\n\t\t\tbasic = 0;\n\t\t}\n\n\t\tfor (j = 0; j < basic; ++j) {\n\t\t\t// if it's not a basic code point\n\t\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\t\terror('not-basic');\n\t\t\t}\n\t\t\toutput.push(input.charCodeAt(j));\n\t\t}\n\n\t\t// Main decoding loop: start just after the last delimiter if any basic code\n\t\t// points were copied; start at the beginning otherwise.\n\n\t\tfor (index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\n\n\t\t\t// `index` is the index of the next character to be consumed.\n\t\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t\t// which gets added to `i`. The overflow checking is easier\n\t\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t\t// value at the end to obtain `delta`.\n\t\t\tfor (oldi = i, w = 1, k = base; /* no condition */; k += base) {\n\n\t\t\t\tif (index >= inputLength) {\n\t\t\t\t\terror('invalid-input');\n\t\t\t\t}\n\n\t\t\t\tdigit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\ti += digit * w;\n\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\n\t\t\t\tif (digit < t) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tbaseMinusT = base - t;\n\t\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tw *= baseMinusT;\n\n\t\t\t}\n\n\t\t\tout = output.length + 1;\n\t\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t\t// incrementing `n` each time, so we'll fix that now:\n\t\t\tif (floor(i / out) > maxInt - n) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tn += floor(i / out);\n\t\t\ti %= out;\n\n\t\t\t// Insert `n` at position `i` of the output\n\t\t\toutput.splice(i++, 0, n);\n\n\t\t}\n\n\t\treturn ucs2encode(output);\n\t}\n\n\t/**\n\t * Converts a string of Unicode symbols (e.g. a domain name label) to a\n\t * Punycode string of ASCII-only symbols.\n\t * @memberOf punycode\n\t * @param {String} input The string of Unicode symbols.\n\t * @returns {String} The resulting Punycode string of ASCII-only symbols.\n\t */\n\tfunction encode(input) {\n\t\tvar n,\n\t\t    delta,\n\t\t    handledCPCount,\n\t\t    basicLength,\n\t\t    bias,\n\t\t    j,\n\t\t    m,\n\t\t    q,\n\t\t    k,\n\t\t    t,\n\t\t    currentValue,\n\t\t    output = [],\n\t\t    /** `inputLength` will hold the number of code points in `input`. */\n\t\t    inputLength,\n\t\t    /** Cached calculation results */\n\t\t    handledCPCountPlusOne,\n\t\t    baseMinusT,\n\t\t    qMinusT;\n\n\t\t// Convert the input in UCS-2 to Unicode\n\t\tinput = ucs2decode(input);\n\n\t\t// Cache the length\n\t\tinputLength = input.length;\n\n\t\t// Initialize the state\n\t\tn = initialN;\n\t\tdelta = 0;\n\t\tbias = initialBias;\n\n\t\t// Handle the basic code points\n\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\tcurrentValue = input[j];\n\t\t\tif (currentValue < 0x80) {\n\t\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t\t}\n\t\t}\n\n\t\thandledCPCount = basicLength = output.length;\n\n\t\t// `handledCPCount` is the number of code points that have been handled;\n\t\t// `basicLength` is the number of basic code points.\n\n\t\t// Finish the basic string - if it is not empty - with a delimiter\n\t\tif (basicLength) {\n\t\t\toutput.push(delimiter);\n\t\t}\n\n\t\t// Main encoding loop:\n\t\twhile (handledCPCount < inputLength) {\n\n\t\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t\t// larger one:\n\t\t\tfor (m = maxInt, j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\tm = currentValue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t\t// but guard against overflow\n\t\t\thandledCPCountPlusOne = handledCPCount + 1;\n\t\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\t\tn = m;\n\n\t\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\n\t\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tif (currentValue == n) {\n\t\t\t\t\t// Represent delta as a generalized variable-length integer\n\t\t\t\t\tfor (q = delta, k = base; /* no condition */; k += base) {\n\t\t\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tqMinusT = q - t;\n\t\t\t\t\t\tbaseMinusT = base - t;\n\t\t\t\t\t\toutput.push(\n\t\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n\t\t\t\t\t\t);\n\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\tdelta = 0;\n\t\t\t\t\t++handledCPCount;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t++delta;\n\t\t\t++n;\n\n\t\t}\n\t\treturn output.join('');\n\t}\n\n\t/**\n\t * Converts a Punycode string representing a domain name or an email address\n\t * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n\t * it doesn't matter if you call it on a string that has already been\n\t * converted to Unicode.\n\t * @memberOf punycode\n\t * @param {String} input The Punycoded domain name or email address to\n\t * convert to Unicode.\n\t * @returns {String} The Unicode representation of the given Punycode\n\t * string.\n\t */\n\tfunction toUnicode(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexPunycode.test(string)\n\t\t\t\t? decode(string.slice(4).toLowerCase())\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/**\n\t * Converts a Unicode string representing a domain name or an email address to\n\t * Punycode. Only the non-ASCII parts of the domain name will be converted,\n\t * i.e. it doesn't matter if you call it with a domain that's already in\n\t * ASCII.\n\t * @memberOf punycode\n\t * @param {String} input The domain name or email address to convert, as a\n\t * Unicode string.\n\t * @returns {String} The Punycode representation of the given domain name or\n\t * email address.\n\t */\n\tfunction toASCII(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexNonASCII.test(string)\n\t\t\t\t? 'xn--' + encode(string)\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/** Define the public API */\n\tpunycode = {\n\t\t/**\n\t\t * A string representing the current Punycode.js version number.\n\t\t * @memberOf punycode\n\t\t * @type String\n\t\t */\n\t\t'version': '1.4.1',\n\t\t/**\n\t\t * An object of methods to convert from JavaScript's internal character\n\t\t * representation (UCS-2) to Unicode code points, and back.\n\t\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t\t * @memberOf punycode\n\t\t * @type Object\n\t\t */\n\t\t'ucs2': {\n\t\t\t'decode': ucs2decode,\n\t\t\t'encode': ucs2encode\n\t\t},\n\t\t'decode': decode,\n\t\t'encode': encode,\n\t\t'toASCII': toASCII,\n\t\t'toUnicode': toUnicode\n\t};\n\n\t/** Expose `punycode` */\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine('punycode', function() {\n\t\t\treturn punycode;\n\t\t});\n\t} else if (freeExports && freeModule) {\n\t\tif (module.exports == freeExports) {\n\t\t\t// in Node.js, io.js, or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = punycode;\n\t\t} else {\n\t\t\t// in Narwhal or RingoJS v0.7.0-\n\t\t\tfor (key in punycode) {\n\t\t\t\tpunycode.hasOwnProperty(key) && (freeExports[key] = punycode[key]);\n\t\t\t}\n\t\t}\n\t} else {\n\t\t// in Rhino or a web browser\n\t\troot.punycode = punycode;\n\t}\n\n}(this));\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","'use strict';\n\nmodule.exports = {\n  isString: function(arg) {\n    return typeof(arg) === 'string';\n  },\n  isObject: function(arg) {\n    return typeof(arg) === 'object' && arg !== null;\n  },\n  isNull: function(arg) {\n    return arg === null;\n  },\n  isNullOrUndefined: function(arg) {\n    return arg == null;\n  }\n};\n","'use strict';\n\nexports.decode = exports.parse = require('./decode');\nexports.encode = exports.stringify = require('./encode');\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar stringifyPrimitive = function(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nmodule.exports = function(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return map(objectKeys(obj), function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (isArray(obj[k])) {\n        return map(obj[k], function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\nfunction map (xs, f) {\n  if (xs.map) return xs.map(f);\n  var res = [];\n  for (var i = 0; i < xs.length; i++) {\n    res.push(f(xs[i], i));\n  }\n  return res;\n}\n\nvar objectKeys = Object.keys || function (obj) {\n  var res = [];\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);\n  }\n  return res;\n};\n","/*\n * Copyright 2017-2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nvar LOG_LEVELS = {\n    VERBOSE: 1,\n    DEBUG: 2,\n    INFO: 3,\n    WARN: 4,\n    ERROR: 5,\n};\n/**\n * Write logs\n * @class Logger\n */\nvar ConsoleLogger = /** @class */ (function () {\n    /**\n     * @constructor\n     * @param {string} name - Name of the logger\n     */\n    function ConsoleLogger(name, level) {\n        if (level === void 0) { level = 'WARN'; }\n        this.name = name;\n        this.level = level;\n    }\n    ConsoleLogger.prototype._padding = function (n) {\n        return n < 10 ? '0' + n : '' + n;\n    };\n    ConsoleLogger.prototype._ts = function () {\n        var dt = new Date();\n        return ([this._padding(dt.getMinutes()), this._padding(dt.getSeconds())].join(':') +\n            '.' +\n            dt.getMilliseconds());\n    };\n    /**\n     * Write log\n     * @method\n     * @memeberof Logger\n     * @param {string} type - log type, default INFO\n     * @param {string|object} msg - Logging message or object\n     */\n    ConsoleLogger.prototype._log = function (type) {\n        var msg = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            msg[_i - 1] = arguments[_i];\n        }\n        var logger_level_name = this.level;\n        if (ConsoleLogger.LOG_LEVEL) {\n            logger_level_name = ConsoleLogger.LOG_LEVEL;\n        }\n        if (typeof window !== 'undefined' && window.LOG_LEVEL) {\n            logger_level_name = window.LOG_LEVEL;\n        }\n        var logger_level = LOG_LEVELS[logger_level_name];\n        var type_level = LOG_LEVELS[type];\n        if (!(type_level >= logger_level)) {\n            // Do nothing if type is not greater than or equal to logger level (handle undefined)\n            return;\n        }\n        var log = console.log.bind(console);\n        if (type === 'ERROR' && console.error) {\n            log = console.error.bind(console);\n        }\n        if (type === 'WARN' && console.warn) {\n            log = console.warn.bind(console);\n        }\n        var prefix = \"[\" + type + \"] \" + this._ts() + \" \" + this.name;\n        if (msg.length === 1 && typeof msg[0] === 'string') {\n            log(prefix + \" - \" + msg[0]);\n        }\n        else if (msg.length === 1) {\n            log(prefix, msg[0]);\n        }\n        else if (typeof msg[0] === 'string') {\n            var obj = msg.slice(1);\n            if (obj.length === 1) {\n                obj = obj[0];\n            }\n            log(prefix + \" - \" + msg[0], obj);\n        }\n        else {\n            log(prefix, msg);\n        }\n    };\n    /**\n     * Write General log. Default to INFO\n     * @method\n     * @memeberof Logger\n     * @param {string|object} msg - Logging message or object\n     */\n    ConsoleLogger.prototype.log = function () {\n        var msg = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            msg[_i] = arguments[_i];\n        }\n        this._log.apply(this, __spreadArrays(['INFO'], msg));\n    };\n    /**\n     * Write INFO log\n     * @method\n     * @memeberof Logger\n     * @param {string|object} msg - Logging message or object\n     */\n    ConsoleLogger.prototype.info = function () {\n        var msg = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            msg[_i] = arguments[_i];\n        }\n        this._log.apply(this, __spreadArrays(['INFO'], msg));\n    };\n    /**\n     * Write WARN log\n     * @method\n     * @memeberof Logger\n     * @param {string|object} msg - Logging message or object\n     */\n    ConsoleLogger.prototype.warn = function () {\n        var msg = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            msg[_i] = arguments[_i];\n        }\n        this._log.apply(this, __spreadArrays(['WARN'], msg));\n    };\n    /**\n     * Write ERROR log\n     * @method\n     * @memeberof Logger\n     * @param {string|object} msg - Logging message or object\n     */\n    ConsoleLogger.prototype.error = function () {\n        var msg = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            msg[_i] = arguments[_i];\n        }\n        this._log.apply(this, __spreadArrays(['ERROR'], msg));\n    };\n    /**\n     * Write DEBUG log\n     * @method\n     * @memeberof Logger\n     * @param {string|object} msg - Logging message or object\n     */\n    ConsoleLogger.prototype.debug = function () {\n        var msg = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            msg[_i] = arguments[_i];\n        }\n        this._log.apply(this, __spreadArrays(['DEBUG'], msg));\n    };\n    /**\n     * Write VERBOSE log\n     * @method\n     * @memeberof Logger\n     * @param {string|object} msg - Logging message or object\n     */\n    ConsoleLogger.prototype.verbose = function () {\n        var msg = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            msg[_i] = arguments[_i];\n        }\n        this._log.apply(this, __spreadArrays(['VERBOSE'], msg));\n    };\n    ConsoleLogger.LOG_LEVEL = null;\n    return ConsoleLogger;\n}());\nexport { ConsoleLogger };\n//# sourceMappingURL=ConsoleLogger.js.map","import { ConsoleLogger as LoggerClass } from './Logger';\nvar logger = new LoggerClass('Amplify');\nvar Amplify = /** @class */ (function () {\n    function Amplify() {\n    }\n    Amplify.register = function (comp) {\n        logger.debug('component registered in amplify', comp);\n        this._components.push(comp);\n        if (typeof comp.getModuleName === 'function') {\n            Amplify[comp.getModuleName()] = comp;\n        }\n        else {\n            logger.debug('no getModuleName method for component', comp);\n        }\n    };\n    Amplify.configure = function (config) {\n        var _this = this;\n        if (!config)\n            return this._config;\n        this._config = Object.assign(this._config, config);\n        logger.debug('amplify config', this._config);\n        this._components.map(function (comp) {\n            comp.configure(_this._config);\n        });\n        return this._config;\n    };\n    Amplify.addPluggable = function (pluggable) {\n        if (pluggable &&\n            pluggable['getCategory'] &&\n            typeof pluggable['getCategory'] === 'function') {\n            this._components.map(function (comp) {\n                if (comp['addPluggable'] &&\n                    typeof comp['addPluggable'] === 'function') {\n                    comp.addPluggable(pluggable);\n                }\n            });\n        }\n    };\n    Amplify._components = [];\n    Amplify._config = {};\n    // for backward compatibility to avoid breaking change\n    // if someone is using like Amplify.Auth\n    Amplify.Auth = null;\n    Amplify.Analytics = null;\n    Amplify.API = null;\n    Amplify.Storage = null;\n    Amplify.I18n = null;\n    Amplify.Cache = null;\n    Amplify.PubSub = null;\n    Amplify.Interactions = null;\n    Amplify.Pushnotification = null;\n    Amplify.UI = null;\n    Amplify.XR = null;\n    Amplify.Predictions = null;\n    Amplify.Logger = LoggerClass;\n    Amplify.ServiceWorker = null;\n    return Amplify;\n}());\nexport default Amplify;\n//# sourceMappingURL=Amplify.js.map","/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nimport { ConsoleLogger as Logger } from '../Logger';\nvar logger = new Logger('ClientDevice_Browser');\nexport function clientInfo() {\n    if (typeof window === 'undefined') {\n        return {};\n    }\n    return browserClientInfo();\n}\nfunction browserClientInfo() {\n    if (typeof window === 'undefined') {\n        logger.warn('No window object available to get browser client info');\n        return {};\n    }\n    var nav = window.navigator;\n    if (!nav) {\n        logger.warn('No navigator object available to get browser client info');\n        return {};\n    }\n    var platform = nav.platform, product = nav.product, vendor = nav.vendor, userAgent = nav.userAgent, language = nav.language;\n    var type = browserType(userAgent);\n    var timezone = browserTimezone();\n    return {\n        platform: platform,\n        make: product || vendor,\n        model: type.type,\n        version: type.version,\n        appVersion: [type.type, type.version].join('/'),\n        language: language,\n        timezone: timezone,\n    };\n}\nexport function dimension() {\n    if (typeof window === 'undefined') {\n        logger.warn('No window object available to get browser client info');\n        return { width: 320, height: 320 };\n    }\n    return {\n        width: window.innerWidth,\n        height: window.innerHeight,\n    };\n}\nfunction browserTimezone() {\n    var tzMatch = /\\(([A-Za-z\\s].*)\\)/.exec(new Date().toString());\n    return tzMatch ? tzMatch[1] || '' : '';\n}\nfunction browserType(userAgent) {\n    var operaMatch = /.+(Opera[\\s[A-Z]*|OPR[\\sA-Z]*)\\/([0-9\\.]+).*/i.exec(userAgent);\n    if (operaMatch) {\n        return { type: operaMatch[1], version: operaMatch[2] };\n    }\n    var ieMatch = /.+(Trident|Edge)\\/([0-9\\.]+).*/i.exec(userAgent);\n    if (ieMatch) {\n        return { type: ieMatch[1], version: ieMatch[2] };\n    }\n    var cfMatch = /.+(Chrome|Firefox|FxiOS)\\/([0-9\\.]+).*/i.exec(userAgent);\n    if (cfMatch) {\n        return { type: cfMatch[1], version: cfMatch[2] };\n    }\n    var sMatch = /.+(Safari)\\/([0-9\\.]+).*/i.exec(userAgent);\n    if (sMatch) {\n        return { type: sMatch[1], version: sMatch[2] };\n    }\n    var awkMatch = /.+(AppleWebKit)\\/([0-9\\.]+).*/i.exec(userAgent);\n    if (awkMatch) {\n        return { type: awkMatch[1], version: awkMatch[2] };\n    }\n    var anyMatch = /.*([A-Z]+)\\/([0-9\\.]+).*/i.exec(userAgent);\n    if (anyMatch) {\n        return { type: anyMatch[1], version: anyMatch[2] };\n    }\n    return { type: '', version: '' };\n}\n//# sourceMappingURL=browser.js.map","/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nimport * as Browser from './browser';\nvar ClientDevice = /** @class */ (function () {\n    function ClientDevice() {\n    }\n    ClientDevice.clientInfo = function () {\n        return Browser.clientInfo();\n    };\n    ClientDevice.dimension = function () {\n        return Browser.dimension();\n    };\n    return ClientDevice;\n}());\nexport default ClientDevice;\n//# sourceMappingURL=index.js.map","/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nexport function missingConfig(name) {\n    return new Error('Missing config value of ' + name);\n}\nexport function invalidParameter(name) {\n    return new Error('Invalid parameter value of ' + name);\n}\n//# sourceMappingURL=Errors.js.map","/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport { ConsoleLogger as Logger } from './Logger';\nvar logger = new Logger('Hub');\nvar AMPLIFY_SYMBOL = (typeof Symbol !== 'undefined' &&\n    typeof Symbol.for === 'function'\n    ? Symbol.for('amplify_default')\n    : '@@amplify_default');\nfunction isLegacyCallback(callback) {\n    return callback.onHubCapsule !== undefined;\n}\nvar HubClass = /** @class */ (function () {\n    function HubClass(name) {\n        this.listeners = [];\n        this.patterns = [];\n        this.protectedChannels = [\n            'core',\n            'auth',\n            'api',\n            'analytics',\n            'interactions',\n            'pubsub',\n            'storage',\n            'xr',\n        ];\n        this.name = name;\n    }\n    // Note - Need to pass channel as a reference for removal to work and not anonymous function\n    HubClass.prototype.remove = function (channel, listener) {\n        if (channel instanceof RegExp) {\n            var pattern_1 = this.patterns.find(function (_a) {\n                var pattern = _a.pattern;\n                return pattern.source === channel.source;\n            });\n            if (!pattern_1) {\n                logger.warn(\"No listeners for \" + channel);\n                return;\n            }\n            this.patterns = __spreadArrays(this.patterns.filter(function (x) { return x !== pattern_1; }));\n        }\n        else {\n            var holder = this.listeners[channel];\n            if (!holder) {\n                logger.warn(\"No listeners for \" + channel);\n                return;\n            }\n            this.listeners[channel] = __spreadArrays(holder.filter(function (_a) {\n                var callback = _a.callback;\n                return callback !== listener;\n            }));\n        }\n    };\n    HubClass.prototype.dispatch = function (channel, payload, source, ampSymbol) {\n        if (source === void 0) { source = ''; }\n        if (this.protectedChannels.indexOf(channel) > -1) {\n            var hasAccess = ampSymbol === AMPLIFY_SYMBOL;\n            if (!hasAccess) {\n                logger.warn(\"WARNING: \" + channel + \" is protected and dispatching on it can have unintended consequences\");\n            }\n        }\n        var capsule = {\n            channel: channel,\n            payload: __assign({}, payload),\n            source: source,\n            patternInfo: [],\n        };\n        try {\n            this._toListeners(capsule);\n        }\n        catch (e) {\n            logger.error(e);\n        }\n    };\n    HubClass.prototype.listen = function (channel, callback, listenerName) {\n        if (listenerName === void 0) { listenerName = 'noname'; }\n        var cb;\n        // Check for legacy onHubCapsule callback for backwards compatability\n        if (isLegacyCallback(callback)) {\n            logger.warn(\"WARNING onHubCapsule is Deprecated. Please pass in a callback.\");\n            cb = callback.onHubCapsule.bind(callback);\n        }\n        else if (typeof callback !== 'function') {\n            throw new Error('No callback supplied to Hub');\n        }\n        else {\n            cb = callback;\n        }\n        if (channel instanceof RegExp) {\n            this.patterns.push({\n                pattern: channel,\n                callback: cb,\n            });\n        }\n        else {\n            var holder = this.listeners[channel];\n            if (!holder) {\n                holder = [];\n                this.listeners[channel] = holder;\n            }\n            holder.push({\n                name: listenerName,\n                callback: cb,\n            });\n        }\n    };\n    HubClass.prototype._toListeners = function (capsule) {\n        var channel = capsule.channel, payload = capsule.payload;\n        var holder = this.listeners[channel];\n        if (holder) {\n            holder.forEach(function (listener) {\n                logger.debug(\"Dispatching to \" + channel + \" with \", payload);\n                try {\n                    listener.callback(capsule);\n                }\n                catch (e) {\n                    logger.error(e);\n                }\n            });\n        }\n        if (this.patterns.length > 0) {\n            if (!payload.message) {\n                logger.warn(\"Cannot perform pattern matching without a message key\");\n                return;\n            }\n            var payloadStr_1 = payload.message;\n            this.patterns.forEach(function (pattern) {\n                var match = payloadStr_1.match(pattern.pattern);\n                if (match) {\n                    var groups = match.slice(1);\n                    var dispatchingCapsule = __assign(__assign({}, capsule), { patternInfo: groups });\n                    try {\n                        pattern.callback(dispatchingCapsule);\n                    }\n                    catch (e) {\n                        logger.error(e);\n                    }\n                }\n            });\n        }\n    };\n    return HubClass;\n}());\nexport { HubClass };\n/*We export a __default__ instance of HubClass to use it as a\npsuedo Singleton for the main messaging bus, however you can still create\nyour own instance of HubClass() for a separate \"private bus\" of events.*/\nvar Hub = new HubClass('__default__');\nexport default Hub;\n//# sourceMappingURL=Hub.js.map","/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nimport { ConsoleLogger as Logger } from '../Logger';\nvar logger = new Logger('I18n');\n/**\n * Language transition class\n */\nvar I18n = /** @class */ (function () {\n    /**\n     * @constructor\n     * Initialize with configurations\n     * @param {Object} options\n     */\n    function I18n(options) {\n        /**\n         * @private\n         */\n        this._options = null;\n        /**\n         * @private\n         */\n        this._lang = null;\n        /**\n         * @private\n         */\n        this._dict = {};\n        this._options = Object.assign({}, options);\n        this._lang = this._options.language;\n        if (!this._lang &&\n            typeof window !== 'undefined' &&\n            window &&\n            window.navigator) {\n            this._lang = window.navigator.language;\n        }\n        logger.debug(this._lang);\n    }\n    /**\n     * @method\n     * Explicitly setting language\n     * @param {String} lang\n     */\n    I18n.prototype.setLanguage = function (lang) {\n        this._lang = lang;\n    };\n    /**\n     * @method\n     * Get value\n     * @param {String} key\n     * @param {String} defVal - Default value\n     */\n    I18n.prototype.get = function (key, defVal) {\n        if (defVal === void 0) { defVal = undefined; }\n        if (!this._lang) {\n            return typeof defVal !== 'undefined' ? defVal : key;\n        }\n        var lang = this._lang;\n        var val = this.getByLanguage(key, lang);\n        if (val) {\n            return val;\n        }\n        if (lang.indexOf('-') > 0) {\n            val = this.getByLanguage(key, lang.split('-')[0]);\n        }\n        if (val) {\n            return val;\n        }\n        return typeof defVal !== 'undefined' ? defVal : key;\n    };\n    /**\n     * @method\n     * Get value according to specified language\n     * @param {String} key\n     * @param {String} language - Specified langurage to be used\n     * @param {String} defVal - Default value\n     */\n    I18n.prototype.getByLanguage = function (key, language, defVal) {\n        if (defVal === void 0) { defVal = null; }\n        if (!language) {\n            return defVal;\n        }\n        var lang_dict = this._dict[language];\n        if (!lang_dict) {\n            return defVal;\n        }\n        return lang_dict[key];\n    };\n    /**\n     * @method\n     * Add vocabularies for one language\n     * @param {String} langurage - Language of the dictionary\n     * @param {Object} vocabularies - Object that has key-value as dictionary entry\n     */\n    I18n.prototype.putVocabulariesForLanguage = function (language, vocabularies) {\n        var lang_dict = this._dict[language];\n        if (!lang_dict) {\n            lang_dict = this._dict[language] = {};\n        }\n        Object.assign(lang_dict, vocabularies);\n    };\n    /**\n     * @method\n     * Add vocabularies for one language\n     * @param {Object} vocabularies - Object that has language as key,\n     *                                vocabularies of each language as value\n     */\n    I18n.prototype.putVocabularies = function (vocabularies) {\n        var _this = this;\n        Object.keys(vocabularies).map(function (key) {\n            _this.putVocabulariesForLanguage(key, vocabularies[key]);\n        });\n    };\n    return I18n;\n}());\nexport { I18n };\n//# sourceMappingURL=I18n.js.map","/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nimport { I18n as I18nClass } from './I18n';\nimport { ConsoleLogger as Logger } from '../Logger';\nimport Amplify from '../Amplify';\nvar logger = new Logger('I18n');\nvar _config = null;\nvar _i18n = null;\n/**\n * Export I18n APIs\n */\nvar I18n = /** @class */ (function () {\n    function I18n() {\n    }\n    /**\n     * @static\n     * @method\n     * Configure I18n part\n     * @param {Object} config - Configuration of the I18n\n     */\n    I18n.configure = function (config) {\n        logger.debug('configure I18n');\n        if (!config) {\n            return _config;\n        }\n        _config = Object.assign({}, _config, config.I18n || config);\n        I18n.createInstance();\n        return _config;\n    };\n    I18n.getModuleName = function () {\n        return 'I18n';\n    };\n    /**\n     * @static\n     * @method\n     * Create an instance of I18n for the library\n     */\n    I18n.createInstance = function () {\n        logger.debug('create I18n instance');\n        if (_i18n) {\n            return;\n        }\n        _i18n = new I18nClass(_config);\n    };\n    /**\n     * @static @method\n     * Explicitly setting language\n     * @param {String} lang\n     */\n    I18n.setLanguage = function (lang) {\n        I18n.checkConfig();\n        return _i18n.setLanguage(lang);\n    };\n    /**\n     * @static @method\n     * Get value\n     * @param {String} key\n     * @param {String} defVal - Default value\n     */\n    I18n.get = function (key, defVal) {\n        if (!I18n.checkConfig()) {\n            return typeof defVal === 'undefined' ? key : defVal;\n        }\n        return _i18n.get(key, defVal);\n    };\n    /**\n     * @static\n     * @method\n     * Add vocabularies for one language\n     * @param {String} langurage - Language of the dictionary\n     * @param {Object} vocabularies - Object that has key-value as dictionary entry\n     */\n    I18n.putVocabulariesForLanguage = function (language, vocabularies) {\n        I18n.checkConfig();\n        return _i18n.putVocabulariesForLanguage(language, vocabularies);\n    };\n    /**\n     * @static\n     * @method\n     * Add vocabularies for one language\n     * @param {Object} vocabularies - Object that has language as key,\n     *                                vocabularies of each language as value\n     */\n    I18n.putVocabularies = function (vocabularies) {\n        I18n.checkConfig();\n        return _i18n.putVocabularies(vocabularies);\n    };\n    I18n.checkConfig = function () {\n        if (!_i18n) {\n            _i18n = new I18nClass(_config);\n        }\n        return true;\n    };\n    return I18n;\n}());\nAmplify.register(I18n);\nexport default I18n;\n//# sourceMappingURL=index.js.map","/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { ConsoleLogger as Logger } from './Logger';\nimport { AWS } from './Facet';\nvar logger = new Logger('Signer'), url = require('url'), crypto = AWS['util'].crypto;\nvar DEFAULT_ALGORITHM = 'AWS4-HMAC-SHA256';\nvar IOT_SERVICE_NAME = 'iotdevicegateway';\nvar encrypt = function (key, src, encoding) {\n    return crypto.lib\n        .createHmac('sha256', key)\n        .update(src, 'utf8')\n        .digest(encoding);\n};\nvar hash = function (src) {\n    var arg = src || '';\n    return crypto\n        .createHash('sha256')\n        .update(arg, 'utf8')\n        .digest('hex');\n};\n/**\n * @private\n * RFC 3986 compliant version of encodeURIComponent\n */\nvar escape_RFC3986 = function (component) {\n    return component.replace(/[!'()*]/g, function (c) {\n        return ('%' +\n            c\n                .charCodeAt(0)\n                .toString(16)\n                .toUpperCase());\n    });\n};\n/**\n * @private\n * Create canonical query string\n *\n */\nvar canonical_query = function (query) {\n    if (!query || query.length === 0) {\n        return '';\n    }\n    return query\n        .split('&')\n        .map(function (e) {\n        var key_val = e.split('=');\n        if (key_val.length === 1) {\n            return e;\n        }\n        else {\n            var reencoded_val = escape_RFC3986(key_val[1]);\n            return key_val[0] + '=' + reencoded_val;\n        }\n    })\n        .sort(function (a, b) {\n        var key_a = a.split('=')[0];\n        var key_b = b.split('=')[0];\n        if (key_a === key_b) {\n            return a < b ? -1 : 1;\n        }\n        else {\n            return key_a < key_b ? -1 : 1;\n        }\n    })\n        .join('&');\n};\n/**\n* @private\n* Create canonical headers\n*\n<pre>\nCanonicalHeaders =\n    CanonicalHeadersEntry0 + CanonicalHeadersEntry1 + ... + CanonicalHeadersEntryN\nCanonicalHeadersEntry =\n    Lowercase(HeaderName) + ':' + Trimall(HeaderValue) + '\\n'\n</pre>\n*/\nvar canonical_headers = function (headers) {\n    if (!headers || Object.keys(headers).length === 0) {\n        return '';\n    }\n    return (Object.keys(headers)\n        .map(function (key) {\n        return {\n            key: key.toLowerCase(),\n            value: headers[key] ? headers[key].trim().replace(/\\s+/g, ' ') : '',\n        };\n    })\n        .sort(function (a, b) {\n        return a.key < b.key ? -1 : 1;\n    })\n        .map(function (item) {\n        return item.key + ':' + item.value;\n    })\n        .join('\\n') + '\\n');\n};\n/**\n * List of header keys included in the canonical headers.\n * @access private\n */\nvar signed_headers = function (headers) {\n    return Object.keys(headers)\n        .map(function (key) {\n        return key.toLowerCase();\n    })\n        .sort()\n        .join(';');\n};\n/**\n* @private\n* Create canonical request\n* Refer to\n* {@link http://docs.aws.amazon.com/general/latest/gr/sigv4-create-canonical-request.html|Create a Canonical Request}\n*\n<pre>\nCanonicalRequest =\n    HTTPRequestMethod + '\\n' +\n    CanonicalURI + '\\n' +\n    CanonicalQueryString + '\\n' +\n    CanonicalHeaders + '\\n' +\n    SignedHeaders + '\\n' +\n    HexEncode(Hash(RequestPayload))\n</pre>\n*/\nvar canonical_request = function (request) {\n    var url_info = url.parse(request.url);\n    return [\n        request.method || '/',\n        encodeURIComponent(url_info.pathname).replace(/%2F/gi, '/'),\n        canonical_query(url_info.query),\n        canonical_headers(request.headers),\n        signed_headers(request.headers),\n        hash(request.data),\n    ].join('\\n');\n};\nvar parse_service_info = function (request) {\n    var url_info = url.parse(request.url), host = url_info.host;\n    var matched = host.match(/([^\\.]+)\\.(?:([^\\.]*)\\.)?amazonaws\\.com$/);\n    var parsed = (matched || []).slice(1, 3);\n    if (parsed[1] === 'es') {\n        // Elastic Search\n        parsed = parsed.reverse();\n    }\n    return {\n        service: request.service || parsed[0],\n        region: request.region || parsed[1],\n    };\n};\nvar credential_scope = function (d_str, region, service) {\n    return [d_str, region, service, 'aws4_request'].join('/');\n};\n/**\n* @private\n* Create a string to sign\n* Refer to\n* {@link http://docs.aws.amazon.com/general/latest/gr/sigv4-create-string-to-sign.html|Create String to Sign}\n*\n<pre>\nStringToSign =\n    Algorithm + \\n +\n    RequestDateTime + \\n +\n    CredentialScope + \\n +\n    HashedCanonicalRequest\n</pre>\n*/\nvar string_to_sign = function (algorithm, canonical_request, dt_str, scope) {\n    return [algorithm, dt_str, scope, hash(canonical_request)].join('\\n');\n};\n/**\n* @private\n* Create signing key\n* Refer to\n* {@link http://docs.aws.amazon.com/general/latest/gr/sigv4-calculate-signature.html|Calculate Signature}\n*\n<pre>\nkSecret = your secret access key\nkDate = HMAC(\"AWS4\" + kSecret, Date)\nkRegion = HMAC(kDate, Region)\nkService = HMAC(kRegion, Service)\nkSigning = HMAC(kService, \"aws4_request\")\n</pre>\n*/\nvar get_signing_key = function (secret_key, d_str, service_info) {\n    logger.debug(service_info);\n    var k = 'AWS4' + secret_key, k_date = encrypt(k, d_str), k_region = encrypt(k_date, service_info.region), k_service = encrypt(k_region, service_info.service), k_signing = encrypt(k_service, 'aws4_request');\n    return k_signing;\n};\nvar get_signature = function (signing_key, str_to_sign) {\n    return encrypt(signing_key, str_to_sign, 'hex');\n};\n/**\n * @private\n * Create authorization header\n * Refer to\n * {@link http://docs.aws.amazon.com/general/latest/gr/sigv4-add-signature-to-request.html|Add the Signing Information}\n */\nvar get_authorization_header = function (algorithm, access_key, scope, signed_headers, signature) {\n    return [\n        algorithm + ' ' + 'Credential=' + access_key + '/' + scope,\n        'SignedHeaders=' + signed_headers,\n        'Signature=' + signature,\n    ].join(', ');\n};\n/**\n * AWS request signer.\n * Refer to {@link http://docs.aws.amazon.com/general/latest/gr/sigv4_signing.html|Signature Version 4}\n *\n * @class Signer\n */\nvar Signer = /** @class */ (function () {\n    function Signer() {\n    }\n    /**\n    * Sign a HTTP request, add 'Authorization' header to request param\n    * @method sign\n    * @memberof Signer\n    * @static\n    *\n    * @param {object} request - HTTP request object\n    <pre>\n    request: {\n        method: GET | POST | PUT ...\n        url: ...,\n        headers: {\n            header1: ...\n        },\n        data: data\n    }\n    </pre>\n    * @param {object} access_info - AWS access credential info\n    <pre>\n    access_info: {\n        access_key: ...,\n        secret_key: ...,\n        session_token: ...\n    }\n    </pre>\n    * @param {object} [service_info] - AWS service type and region, optional,\n    *                                  if not provided then parse out from url\n    <pre>\n    service_info: {\n        service: ...,\n        region: ...\n    }\n    </pre>\n    *\n    * @returns {object} Signed HTTP request\n    */\n    Signer.sign = function (request, access_info, service_info) {\n        if (service_info === void 0) { service_info = null; }\n        request.headers = request.headers || {};\n        // datetime string and date string\n        var dt = new Date(), dt_str = dt.toISOString().replace(/[:\\-]|\\.\\d{3}/g, ''), d_str = dt_str.substr(0, 8);\n        var url_info = url.parse(request.url);\n        request.headers['host'] = url_info.host;\n        request.headers['x-amz-date'] = dt_str;\n        if (access_info.session_token) {\n            request.headers['X-Amz-Security-Token'] = access_info.session_token;\n        }\n        // Task 1: Create a Canonical Request\n        var request_str = canonical_request(request);\n        logger.debug(request_str);\n        // Task 2: Create a String to Sign\n        var serviceInfo = service_info || parse_service_info(request), scope = credential_scope(d_str, serviceInfo.region, serviceInfo.service), str_to_sign = string_to_sign(DEFAULT_ALGORITHM, request_str, dt_str, scope);\n        // Task 3: Calculate the Signature\n        var signing_key = get_signing_key(access_info.secret_key, d_str, serviceInfo), signature = get_signature(signing_key, str_to_sign);\n        // Task 4: Adding the Signing information to the Request\n        var authorization_header = get_authorization_header(DEFAULT_ALGORITHM, access_info.access_key, scope, signed_headers(request.headers), signature);\n        request.headers['Authorization'] = authorization_header;\n        return request;\n    };\n    Signer.signUrl = function (urlOrRequest, accessInfo, serviceInfo, expiration) {\n        var urlToSign = typeof urlOrRequest === 'object' ? urlOrRequest.url : urlOrRequest;\n        var method = typeof urlOrRequest === 'object' ? urlOrRequest.method : 'GET';\n        var body = typeof urlOrRequest === 'object' ? urlOrRequest.body : undefined;\n        var now = new Date().toISOString().replace(/[:\\-]|\\.\\d{3}/g, '');\n        var today = now.substr(0, 8);\n        // Intentionally discarding search\n        var _a = url.parse(urlToSign, true, true), search = _a.search, parsedUrl = __rest(_a, [\"search\"]);\n        var host = parsedUrl.host;\n        var signedHeaders = { host: host };\n        var _b = serviceInfo || parse_service_info({ url: url.format(parsedUrl) }), region = _b.region, service = _b.service;\n        var credentialScope = credential_scope(today, region, service);\n        // IoT service does not allow the session token in the canonical request\n        // https://docs.aws.amazon.com/general/latest/gr/sigv4-add-signature-to-request.html\n        var sessionTokenRequired = accessInfo.session_token && service !== IOT_SERVICE_NAME;\n        var queryParams = __assign(__assign(__assign({ 'X-Amz-Algorithm': DEFAULT_ALGORITHM, 'X-Amz-Credential': [accessInfo.access_key, credentialScope].join('/'), 'X-Amz-Date': now.substr(0, 16) }, (sessionTokenRequired\n            ? { 'X-Amz-Security-Token': \"\" + accessInfo.session_token }\n            : {})), (expiration ? { 'X-Amz-Expires': \"\" + expiration } : {})), { 'X-Amz-SignedHeaders': Object.keys(signedHeaders).join(',') });\n        var canonicalRequest = canonical_request({\n            method: method,\n            url: url.format(__assign(__assign({}, parsedUrl), { query: __assign(__assign({}, parsedUrl.query), queryParams) })),\n            headers: signedHeaders,\n            data: body,\n        });\n        var stringToSign = string_to_sign(DEFAULT_ALGORITHM, canonicalRequest, now, credentialScope);\n        var signing_key = get_signing_key(accessInfo.secret_key, today, {\n            region: region,\n            service: service,\n        });\n        var signature = get_signature(signing_key, stringToSign);\n        var additionalQueryParams = __assign({ 'X-Amz-Signature': signature }, (accessInfo.session_token && {\n            'X-Amz-Security-Token': accessInfo.session_token,\n        }));\n        var result = url.format({\n            protocol: parsedUrl.protocol,\n            slashes: true,\n            hostname: parsedUrl.hostname,\n            port: parsedUrl.port,\n            pathname: parsedUrl.pathname,\n            query: __assign(__assign(__assign({}, parsedUrl.query), queryParams), additionalQueryParams),\n        });\n        return result;\n    };\n    return Signer;\n}());\nexport default Signer;\n//# sourceMappingURL=Signer.js.map","import { ConsoleLogger as Logger } from './Logger';\nvar logger = new Logger('Parser');\nvar Parser = /** @class */ (function () {\n    function Parser() {\n    }\n    Parser.parseMobilehubConfig = function (config) {\n        var amplifyConfig = {};\n        // Analytics\n        if (config['aws_mobile_analytics_app_id']) {\n            var Analytics = {\n                AWSPinpoint: {\n                    appId: config['aws_mobile_analytics_app_id'],\n                    region: config['aws_mobile_analytics_app_region'],\n                },\n            };\n            amplifyConfig.Analytics = Analytics;\n        }\n        // Auth\n        if (config['aws_cognito_identity_pool_id'] || config['aws_user_pools_id']) {\n            var Auth = {\n                userPoolId: config['aws_user_pools_id'],\n                userPoolWebClientId: config['aws_user_pools_web_client_id'],\n                region: config['aws_cognito_region'],\n                identityPoolId: config['aws_cognito_identity_pool_id'],\n                mandatorySignIn: config['aws_mandatory_sign_in'] === 'enable' ? true : false,\n            };\n            amplifyConfig.Auth = Auth;\n        }\n        // Storage\n        var storageConfig;\n        if (config['aws_user_files_s3_bucket']) {\n            storageConfig = {\n                AWSS3: {\n                    bucket: config['aws_user_files_s3_bucket'],\n                    region: config['aws_user_files_s3_bucket_region'],\n                    dangerouslyConnectToHttpEndpointForTesting: config['aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing'],\n                },\n            };\n        }\n        else {\n            storageConfig = config ? config.Storage || config : {};\n        }\n        amplifyConfig.Analytics = Object.assign({}, amplifyConfig.Analytics, config.Analytics);\n        amplifyConfig.Auth = Object.assign({}, amplifyConfig.Auth, config.Auth);\n        amplifyConfig.Storage = Object.assign({}, storageConfig);\n        logger.debug('parse config', config, 'to amplifyconfig', amplifyConfig);\n        return amplifyConfig;\n    };\n    return Parser;\n}());\nexport default Parser;\n//# sourceMappingURL=Parser.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nimport { ConsoleLogger as Logger } from '../Logger';\nimport JS from '../JS';\nvar logger = new Logger('CognitoCredentials');\nvar waitForInit = new Promise(function (res, rej) {\n    if (!JS.browserOrNode().isBrowser) {\n        logger.debug('not in the browser, directly resolved');\n        return res();\n    }\n    var ga = window['gapi'] && window['gapi'].auth2 ? window['gapi'].auth2 : null;\n    if (ga) {\n        logger.debug('google api already loaded');\n        return res();\n    }\n    else {\n        setTimeout(function () {\n            return res();\n        }, 2000);\n    }\n});\nvar GoogleOAuth = /** @class */ (function () {\n    function GoogleOAuth() {\n        this.initialized = false;\n        this.refreshGoogleToken = this.refreshGoogleToken.bind(this);\n        this._refreshGoogleTokenImpl = this._refreshGoogleTokenImpl.bind(this);\n    }\n    GoogleOAuth.prototype.refreshGoogleToken = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!!this.initialized) return [3 /*break*/, 2];\n                        logger.debug('need to wait for the Google SDK loaded');\n                        return [4 /*yield*/, waitForInit];\n                    case 1:\n                        _a.sent();\n                        this.initialized = true;\n                        logger.debug('finish waiting');\n                        _a.label = 2;\n                    case 2: return [2 /*return*/, this._refreshGoogleTokenImpl()];\n                }\n            });\n        });\n    };\n    GoogleOAuth.prototype._refreshGoogleTokenImpl = function () {\n        var ga = null;\n        if (JS.browserOrNode().isBrowser)\n            ga = window['gapi'] && window['gapi'].auth2 ? window['gapi'].auth2 : null;\n        if (!ga) {\n            logger.debug('no gapi auth2 available');\n            return Promise.reject('no gapi auth2 available');\n        }\n        return new Promise(function (res, rej) {\n            ga.getAuthInstance()\n                .then(function (googleAuth) {\n                if (!googleAuth) {\n                    console.log('google Auth undefiend');\n                    rej('google Auth undefiend');\n                }\n                var googleUser = googleAuth.currentUser.get();\n                // refresh the token\n                if (googleUser.isSignedIn()) {\n                    logger.debug('refreshing the google access token');\n                    googleUser.reloadAuthResponse().then(function (authResponse) {\n                        var id_token = authResponse.id_token, expires_at = authResponse.expires_at;\n                        var profile = googleUser.getBasicProfile();\n                        var user = {\n                            email: profile.getEmail(),\n                            name: profile.getName(),\n                        };\n                        res({ token: id_token, expires_at: expires_at });\n                    });\n                }\n                else {\n                    rej('User is not signed in with Google');\n                }\n            })\n                .catch(function (err) {\n                logger.debug('Failed to refresh google token', err);\n                rej('Failed to refresh google token');\n            });\n        });\n    };\n    return GoogleOAuth;\n}());\nexport default GoogleOAuth;\n//# sourceMappingURL=GoogleOAuth.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nimport { ConsoleLogger as Logger } from '../Logger';\nimport JS from '../JS';\nvar logger = new Logger('CognitoCredentials');\nvar waitForInit = new Promise(function (res, rej) {\n    if (!JS.browserOrNode().isBrowser) {\n        logger.debug('not in the browser, directly resolved');\n        return res();\n    }\n    var fb = window['FB'];\n    if (fb) {\n        logger.debug('FB SDK already loaded');\n        return res();\n    }\n    else {\n        setTimeout(function () {\n            return res();\n        }, 2000);\n    }\n});\nvar FacebookOAuth = /** @class */ (function () {\n    function FacebookOAuth() {\n        this.initialized = false;\n        this.refreshFacebookToken = this.refreshFacebookToken.bind(this);\n        this._refreshFacebookTokenImpl = this._refreshFacebookTokenImpl.bind(this);\n    }\n    FacebookOAuth.prototype.refreshFacebookToken = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!!this.initialized) return [3 /*break*/, 2];\n                        logger.debug('need to wait for the Facebook SDK loaded');\n                        return [4 /*yield*/, waitForInit];\n                    case 1:\n                        _a.sent();\n                        this.initialized = true;\n                        logger.debug('finish waiting');\n                        _a.label = 2;\n                    case 2: return [2 /*return*/, this._refreshFacebookTokenImpl()];\n                }\n            });\n        });\n    };\n    FacebookOAuth.prototype._refreshFacebookTokenImpl = function () {\n        var fb = null;\n        if (JS.browserOrNode().isBrowser)\n            fb = window['FB'];\n        if (!fb) {\n            logger.debug('no fb sdk available');\n            return Promise.reject('no fb sdk available');\n        }\n        return new Promise(function (res, rej) {\n            fb.getLoginStatus(function (fbResponse) {\n                if (!fbResponse || !fbResponse.authResponse) {\n                    logger.debug('no response from facebook when refreshing the jwt token');\n                    rej('no response from facebook when refreshing the jwt token');\n                }\n                var response = fbResponse.authResponse;\n                var accessToken = response.accessToken, expiresIn = response.expiresIn;\n                var date = new Date();\n                var expires_at = expiresIn * 1000 + date.getTime();\n                if (!accessToken) {\n                    logger.debug('the jwtToken is undefined');\n                    rej('the jwtToken is undefined');\n                }\n                res({ token: accessToken, expires_at: expires_at });\n            }, { scope: 'public_profile,email' });\n        });\n    };\n    return FacebookOAuth;\n}());\nexport default FacebookOAuth;\n//# sourceMappingURL=FacebookOAuth.js.map","/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nimport GoogleOAuthClass from './GoogleOAuth';\nimport FacebookOAuthClass from './FacebookOAuth';\nvar GoogleOAuth = new GoogleOAuthClass();\nvar FacebookOAuth = new FacebookOAuthClass();\nexport { GoogleOAuth, FacebookOAuth };\n//# sourceMappingURL=index.js.map","/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nvar dataMemory = {};\n/** @class */\nvar MemoryStorage = /** @class */ (function () {\n    function MemoryStorage() {\n    }\n    /**\n     * This is used to set a specific item in storage\n     * @param {string} key - the key for the item\n     * @param {object} value - the value\n     * @returns {string} value that was set\n     */\n    MemoryStorage.setItem = function (key, value) {\n        dataMemory[key] = value;\n        return dataMemory[key];\n    };\n    /**\n     * This is used to get a specific key from storage\n     * @param {string} key - the key for the item\n     * This is used to clear the storage\n     * @returns {string} the data item\n     */\n    MemoryStorage.getItem = function (key) {\n        return Object.prototype.hasOwnProperty.call(dataMemory, key)\n            ? dataMemory[key]\n            : undefined;\n    };\n    /**\n     * This is used to remove an item from storage\n     * @param {string} key - the key being set\n     * @returns {string} value - value that was deleted\n     */\n    MemoryStorage.removeItem = function (key) {\n        return delete dataMemory[key];\n    };\n    /**\n     * This is used to clear the storage\n     * @returns {string} nothing\n     */\n    MemoryStorage.clear = function () {\n        dataMemory = {};\n        return dataMemory;\n    };\n    return MemoryStorage;\n}());\nexport { MemoryStorage };\nvar StorageHelper = /** @class */ (function () {\n    /**\n     * This is used to get a storage object\n     * @returns {object} the storage\n     */\n    function StorageHelper() {\n        try {\n            this.storageWindow = window.localStorage;\n            this.storageWindow.setItem('aws.amplify.test-ls', 1);\n            this.storageWindow.removeItem('aws.amplify.test-ls');\n        }\n        catch (exception) {\n            this.storageWindow = MemoryStorage;\n        }\n    }\n    /**\n     * This is used to return the storage\n     * @returns {object} the storage\n     */\n    StorageHelper.prototype.getStorage = function () {\n        return this.storageWindow;\n    };\n    return StorageHelper;\n}());\nexport default StorageHelper;\n//# sourceMappingURL=index.js.map","/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nimport JS from '../JS';\nimport MemoryStorage from '../StorageHelper';\nvar Linking = {};\nvar AppState = {\n    addEventListener: function (action, handler) {\n        return;\n    },\n};\n// if not in react native, just use local storage\nvar AsyncStorage = JS.browserOrNode().isBrowser\n    ? new MemoryStorage().getStorage()\n    : undefined;\nexport { Linking, AppState, AsyncStorage };\n//# sourceMappingURL=index.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { ConsoleLogger as Logger } from './Logger';\nimport StorageHelper from './StorageHelper';\nimport { AWS } from './Facet';\nimport JS from './JS';\nimport { FacebookOAuth, GoogleOAuth } from './OAuthHelper';\nimport Amplify from './Amplify';\nvar logger = new Logger('Credentials');\nvar Credentials = /** @class */ (function () {\n    function Credentials(config) {\n        this._gettingCredPromise = null;\n        this._refreshHandlers = {};\n        this.configure(config);\n        this._refreshHandlers['google'] = GoogleOAuth.refreshGoogleToken;\n        this._refreshHandlers['facebook'] = FacebookOAuth.refreshFacebookToken;\n    }\n    Credentials.prototype.getCredSource = function () {\n        return this._credentials_source;\n    };\n    Credentials.prototype.configure = function (config) {\n        if (!config)\n            return this._config || {};\n        this._config = Object.assign({}, this._config, config);\n        var refreshHandlers = this._config.refreshHandlers;\n        // If the developer has provided an object of refresh handlers,\n        // then we can merge the provided handlers with the current handlers.\n        if (refreshHandlers) {\n            this._refreshHandlers = __assign(__assign({}, this._refreshHandlers), refreshHandlers);\n        }\n        this._storage = this._config.storage;\n        if (!this._storage) {\n            this._storage = new StorageHelper().getStorage();\n        }\n        this._storageSync = Promise.resolve();\n        if (typeof this._storage['sync'] === 'function') {\n            this._storageSync = this._storage['sync']();\n        }\n        return this._config;\n    };\n    Credentials.prototype.get = function () {\n        logger.debug('getting credentials');\n        return this._pickupCredentials();\n    };\n    Credentials.prototype._pickupCredentials = function () {\n        logger.debug('picking up credentials');\n        if (!this._gettingCredPromise || !this._gettingCredPromise.isPending()) {\n            logger.debug('getting new cred promise');\n            if (AWS.config &&\n                AWS.config.credentials &&\n                AWS.config.credentials instanceof AWS.Credentials) {\n                this._gettingCredPromise = JS.makeQuerablePromise(this._setCredentialsFromAWS());\n            }\n            else {\n                this._gettingCredPromise = JS.makeQuerablePromise(this._keepAlive());\n            }\n        }\n        else {\n            logger.debug('getting old cred promise');\n        }\n        return this._gettingCredPromise;\n    };\n    Credentials.prototype._keepAlive = function () {\n        logger.debug('checking if credentials exists and not expired');\n        var cred = this._credentials;\n        if (cred && !this._isExpired(cred)) {\n            logger.debug('credentials not changed and not expired, directly return');\n            return Promise.resolve(cred);\n        }\n        logger.debug('need to get a new credential or refresh the existing one');\n        if (Amplify.Auth &&\n            typeof Amplify.Auth.currentUserCredentials === 'function') {\n            return Amplify.Auth.currentUserCredentials();\n        }\n        else {\n            return Promise.reject('No Auth module registered in Amplify');\n        }\n    };\n    Credentials.prototype.refreshFederatedToken = function (federatedInfo) {\n        var _this = this;\n        logger.debug('Getting federated credentials');\n        var provider = federatedInfo.provider, user = federatedInfo.user;\n        var token = federatedInfo.token;\n        var expires_at = federatedInfo.expires_at;\n        var identity_id = federatedInfo.identity_id;\n        var that = this;\n        logger.debug('checking if federated jwt token expired');\n        if (expires_at > new Date().getTime()) {\n            // if not expired\n            logger.debug('token not expired');\n            return this._setCredentialsFromFederation({\n                provider: provider,\n                token: token,\n                user: user,\n                identity_id: identity_id,\n                expires_at: expires_at,\n            });\n        }\n        else {\n            // if refresh handler exists\n            if (that._refreshHandlers[provider] &&\n                typeof that._refreshHandlers[provider] === 'function') {\n                logger.debug('getting refreshed jwt token from federation provider');\n                return that._refreshHandlers[provider]()\n                    .then(function (data) {\n                    logger.debug('refresh federated token sucessfully', data);\n                    token = data.token;\n                    identity_id = data.identity_id;\n                    expires_at = data.expires_at;\n                    return that._setCredentialsFromFederation({\n                        provider: provider,\n                        token: token,\n                        user: user,\n                        identity_id: identity_id,\n                        expires_at: expires_at,\n                    });\n                })\n                    .catch(function (e) {\n                    logger.debug('refresh federated token failed', e);\n                    _this.clear();\n                    return Promise.reject('refreshing federation token failed: ' + e);\n                });\n            }\n            else {\n                logger.debug('no refresh handler for provider:', provider);\n                this.clear();\n                return Promise.reject('no refresh handler for provider');\n            }\n        }\n    };\n    Credentials.prototype._isExpired = function (credentials) {\n        if (!credentials) {\n            logger.debug('no credentials for expiration check');\n            return true;\n        }\n        logger.debug('is this credentials expired?', credentials);\n        var ts = new Date().getTime();\n        var delta = 10 * 60 * 1000; // 10 minutes\n        var expired = credentials.expired, expireTime = credentials.expireTime;\n        if (!expired && expireTime > ts + delta) {\n            return false;\n        }\n        return true;\n    };\n    Credentials.prototype._setCredentialsForGuest = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var attempted, _a, identityPoolId, region, mandatorySignIn, identityId, e_1, credentials, that;\n            var _this = this;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        attempted = false;\n                        logger.debug('setting credentials for guest');\n                        _a = this._config, identityPoolId = _a.identityPoolId, region = _a.region, mandatorySignIn = _a.mandatorySignIn;\n                        if (mandatorySignIn) {\n                            return [2 /*return*/, Promise.reject('cannot get guest credentials when mandatory signin enabled')];\n                        }\n                        if (!identityPoolId) {\n                            logger.debug('No Cognito Federated Identity pool provided');\n                            return [2 /*return*/, Promise.reject('No Cognito Federated Identity pool provided')];\n                        }\n                        identityId = undefined;\n                        _b.label = 1;\n                    case 1:\n                        _b.trys.push([1, 3, , 4]);\n                        return [4 /*yield*/, this._storageSync];\n                    case 2:\n                        _b.sent();\n                        identityId = this._storage.getItem('CognitoIdentityId-' + identityPoolId);\n                        return [3 /*break*/, 4];\n                    case 3:\n                        e_1 = _b.sent();\n                        logger.debug('Failed to get the cached identityId', e_1);\n                        return [3 /*break*/, 4];\n                    case 4:\n                        credentials = new AWS.CognitoIdentityCredentials({\n                            IdentityPoolId: identityPoolId,\n                            IdentityId: identityId ? identityId : undefined,\n                        }, {\n                            region: region,\n                        });\n                        that = this;\n                        return [2 /*return*/, this._loadCredentials(credentials, 'guest', false, null)\n                                .then(function (res) {\n                                return res;\n                            })\n                                .catch(function (e) { return __awaiter(_this, void 0, void 0, function () {\n                                var newCredentials;\n                                return __generator(this, function (_a) {\n                                    // If identity id is deleted in the console, we make one attempt to recreate it\n                                    // and remove existing id from cache.\n                                    if (e.code === 'ResourceNotFoundException' &&\n                                        e.message === \"Identity '\" + identityId + \"' not found.\" &&\n                                        !attempted) {\n                                        attempted = true;\n                                        logger.debug('Failed to load guest credentials');\n                                        this._storage.removeItem('CognitoIdentityId-' + identityPoolId);\n                                        credentials.clearCachedId();\n                                        newCredentials = new AWS.CognitoIdentityCredentials({\n                                            IdentityPoolId: identityPoolId,\n                                            IdentityId: undefined,\n                                        }, {\n                                            region: region,\n                                        });\n                                        return [2 /*return*/, this._loadCredentials(newCredentials, 'guest', false, null)];\n                                    }\n                                    else {\n                                        return [2 /*return*/, e];\n                                    }\n                                    return [2 /*return*/];\n                                });\n                            }); })];\n                }\n            });\n        });\n    };\n    Credentials.prototype._setCredentialsFromAWS = function () {\n        var credentials = AWS.config.credentials;\n        logger.debug('setting credentials from aws');\n        var that = this;\n        if (credentials instanceof AWS.Credentials) {\n            return Promise.resolve(credentials);\n        }\n        else {\n            logger.debug('AWS.config.credentials is not an instance of AWS Credentials');\n            return Promise.reject('AWS.config.credentials is not an instance of AWS Credentials');\n        }\n    };\n    Credentials.prototype._setCredentialsFromFederation = function (params) {\n        var provider = params.provider, token = params.token, identity_id = params.identity_id, user = params.user, expires_at = params.expires_at;\n        var domains = {\n            google: 'accounts.google.com',\n            facebook: 'graph.facebook.com',\n            amazon: 'www.amazon.com',\n            developer: 'cognito-identity.amazonaws.com',\n        };\n        // Use custom provider url instead of the predefined ones\n        var domain = domains[provider] || provider;\n        if (!domain) {\n            return Promise.reject('You must specify a federated provider');\n        }\n        var logins = {};\n        logins[domain] = token;\n        var _a = this._config, identityPoolId = _a.identityPoolId, region = _a.region;\n        if (!identityPoolId) {\n            logger.debug('No Cognito Federated Identity pool provided');\n            return Promise.reject('No Cognito Federated Identity pool provided');\n        }\n        var credentials = new AWS.CognitoIdentityCredentials({\n            IdentityPoolId: identityPoolId,\n            IdentityId: identity_id,\n            Logins: logins,\n        }, {\n            region: region,\n        });\n        return this._loadCredentials(credentials, 'federated', true, params);\n    };\n    Credentials.prototype._setCredentialsFromSession = function (session) {\n        logger.debug('set credentials from session');\n        var idToken = session.getIdToken().getJwtToken();\n        var _a = this._config, region = _a.region, userPoolId = _a.userPoolId, identityPoolId = _a.identityPoolId;\n        if (!identityPoolId) {\n            logger.debug('No Cognito Federated Identity pool provided');\n            return Promise.reject('No Cognito Federated Identity pool provided');\n        }\n        var key = 'cognito-idp.' + region + '.amazonaws.com/' + userPoolId;\n        var logins = {};\n        logins[key] = idToken;\n        var credentials = new AWS.CognitoIdentityCredentials({\n            IdentityPoolId: identityPoolId,\n            Logins: logins,\n        }, {\n            region: region,\n        });\n        return this._loadCredentials(credentials, 'userPool', true, null);\n    };\n    Credentials.prototype._loadCredentials = function (credentials, source, authenticated, info) {\n        var _this = this;\n        var that = this;\n        var identityPoolId = this._config.identityPoolId;\n        return new Promise(function (res, rej) {\n            credentials.get(function (err) { return __awaiter(_this, void 0, void 0, function () {\n                var user, provider, token, expires_at, identity_id, e_2;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            if (err) {\n                                logger.debug('Failed to load credentials', credentials);\n                                rej(err);\n                                return [2 /*return*/];\n                            }\n                            logger.debug('Load credentials successfully', credentials);\n                            that._credentials = credentials;\n                            that._credentials.authenticated = authenticated;\n                            that._credentials_source = source;\n                            if (!(source === 'federated')) return [3 /*break*/, 3];\n                            user = Object.assign({ id: this._credentials.identityId }, info.user);\n                            provider = info.provider, token = info.token, expires_at = info.expires_at, identity_id = info.identity_id;\n                            try {\n                                this._storage.setItem('aws-amplify-federatedInfo', JSON.stringify({\n                                    provider: provider,\n                                    token: token,\n                                    user: user,\n                                    expires_at: expires_at,\n                                    identity_id: identity_id,\n                                }));\n                            }\n                            catch (e) {\n                                logger.debug('Failed to put federated info into auth storage', e);\n                            }\n                            if (!(Amplify.Cache && typeof Amplify.Cache.setItem === 'function')) return [3 /*break*/, 2];\n                            return [4 /*yield*/, Amplify.Cache.setItem('federatedInfo', {\n                                    provider: provider,\n                                    token: token,\n                                    user: user,\n                                    expires_at: expires_at,\n                                    identity_id: identity_id,\n                                }, { priority: 1 })];\n                        case 1:\n                            _a.sent();\n                            return [3 /*break*/, 3];\n                        case 2:\n                            logger.debug('No Cache module registered in Amplify');\n                            _a.label = 3;\n                        case 3:\n                            if (!(source === 'guest')) return [3 /*break*/, 7];\n                            _a.label = 4;\n                        case 4:\n                            _a.trys.push([4, 6, , 7]);\n                            return [4 /*yield*/, this._storageSync];\n                        case 5:\n                            _a.sent();\n                            this._storage.setItem('CognitoIdentityId-' + identityPoolId, credentials.identityId);\n                            return [3 /*break*/, 7];\n                        case 6:\n                            e_2 = _a.sent();\n                            logger.debug('Failed to cache identityId', e_2);\n                            return [3 /*break*/, 7];\n                        case 7:\n                            res(that._credentials);\n                            return [2 /*return*/];\n                    }\n                });\n            }); });\n        });\n    };\n    Credentials.prototype.set = function (params, source) {\n        if (source === 'session') {\n            return this._setCredentialsFromSession(params);\n        }\n        else if (source === 'federation') {\n            return this._setCredentialsFromFederation(params);\n        }\n        else if (source === 'guest') {\n            return this._setCredentialsForGuest();\n        }\n        else {\n            logger.debug('no source specified for setting credentials');\n            return Promise.reject('invalid source');\n        }\n    };\n    Credentials.prototype.clear = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, identityPoolId, region, credentials;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        _a = this._config, identityPoolId = _a.identityPoolId, region = _a.region;\n                        if (identityPoolId) {\n                            credentials = new AWS.CognitoIdentityCredentials({\n                                IdentityPoolId: identityPoolId,\n                            }, {\n                                region: region,\n                            });\n                            credentials.clearCachedId();\n                        }\n                        this._credentials = null;\n                        this._credentials_source = null;\n                        this._storage.removeItem('aws-amplify-federatedInfo');\n                        if (!(Amplify.Cache && typeof Amplify.Cache.setItem === 'function')) return [3 /*break*/, 2];\n                        return [4 /*yield*/, Amplify.Cache.removeItem('federatedInfo')];\n                    case 1:\n                        _b.sent();\n                        return [3 /*break*/, 3];\n                    case 2:\n                        logger.debug('No Cache module registered in Amplify');\n                        _b.label = 3;\n                    case 3: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    /**\n     * Compact version of credentials\n     * @param {Object} credentials\n     * @return {Object} - Credentials\n     */\n    Credentials.prototype.shear = function (credentials) {\n        return {\n            accessKeyId: credentials.accessKeyId,\n            sessionToken: credentials.sessionToken,\n            secretAccessKey: credentials.secretAccessKey,\n            identityId: credentials.identityId,\n            authenticated: credentials.authenticated,\n        };\n    };\n    return Credentials;\n}());\nexport { Credentials };\nvar instance = new Credentials(null);\nexport default instance;\n//# sourceMappingURL=Credentials.js.map","/**\n * Copyright 2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nimport { ConsoleLogger as Logger } from '../Logger';\nimport JS from '../JS';\nimport Amplify from '../Amplify';\n/**\n * Provides a means to registering a service worker in the browser\n * and communicating with it via postMessage events.\n * https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API/\n *\n * postMessage events are currently not supported in all browsers. See:\n * https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API\n *\n * At the minmum this class will register the service worker and listen\n * and attempt to dispatch messages on state change and record analytics\n * events based on the service worker lifecycle.\n */\nvar ServiceWorkerClass = /** @class */ (function () {\n    function ServiceWorkerClass() {\n        // The AWS Amplify logger\n        this._logger = new Logger('ServiceWorker');\n    }\n    Object.defineProperty(ServiceWorkerClass.prototype, \"serviceWorker\", {\n        /**\n         * Get the currently active service worker\n         */\n        get: function () {\n            return this._serviceWorker;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Register the service-worker.js file in the browser\n     * Make sure the service-worker.js is part of the build\n     * for example with Angular, modify the angular-cli.json file\n     * and add to \"assets\" array \"service-worker.js\"\n     * @param {string} - (optional) Service worker file. Defaults to \"/service-worker.js\"\n     * @param {string} - (optional) The service worker scope. Defaults to \"/\"\n     *  - API Doc: https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerContainer/register\n     * @returns {Promise}\n     *\t- resolve(ServiceWorkerRegistration)\n     *\t- reject(Error)\n     **/\n    ServiceWorkerClass.prototype.register = function (filePath, scope) {\n        var _this = this;\n        if (filePath === void 0) { filePath = '/service-worker.js'; }\n        if (scope === void 0) { scope = '/'; }\n        this._logger.debug(\"registering \" + filePath);\n        this._logger.debug(\"registering service worker with scope \" + scope);\n        return new Promise(function (resolve, reject) {\n            if (navigator && 'serviceWorker' in navigator) {\n                navigator.serviceWorker\n                    .register(filePath, {\n                    scope: scope,\n                })\n                    .then(function (registration) {\n                    if (registration.installing) {\n                        _this._serviceWorker = registration.installing;\n                    }\n                    else if (registration.waiting) {\n                        _this._serviceWorker = registration.waiting;\n                    }\n                    else if (registration.active) {\n                        _this._serviceWorker = registration.active;\n                    }\n                    _this._registration = registration;\n                    _this._setupListeners();\n                    _this._logger.debug(\"Service Worker Registration Success: \" + registration);\n                    return resolve(registration);\n                })\n                    .catch(function (error) {\n                    _this._logger.debug(\"Service Worker Registration Failed \" + error);\n                    return reject(error);\n                });\n            }\n            else {\n                return reject(new Error('Service Worker not available'));\n            }\n        });\n    };\n    /**\n     * Enable web push notifications. If not subscribed, a new subscription will\n     * be created and registered.\n     * \tTest Push Server: https://web-push-codelab.glitch.me/\n     * \tPush Server Libraries: https://github.com/web-push-libs/\n     * \tAPI Doc: https://developers.google.com/web/fundamentals/codelabs/push-notifications/\n     * @param publicKey\n     * @returns {Promise}\n     * \t- resolve(PushSubscription)\n     *  - reject(Error)\n     */\n    ServiceWorkerClass.prototype.enablePush = function (publicKey) {\n        var _this = this;\n        if (!this._registration)\n            throw new Error('Service Worker not registered');\n        this._publicKey = publicKey;\n        return new Promise(function (resolve, reject) {\n            if (JS.browserOrNode().isBrowser) {\n                _this._registration.pushManager.getSubscription().then(function (subscription) {\n                    if (subscription) {\n                        _this._subscription = subscription;\n                        _this._logger.debug(\"User is subscribed to push: \" + JSON.stringify(subscription));\n                        resolve(subscription);\n                    }\n                    else {\n                        _this._logger.debug(\"User is NOT subscribed to push\");\n                        return _this._registration.pushManager\n                            .subscribe({\n                            userVisibleOnly: true,\n                            applicationServerKey: _this._urlB64ToUint8Array(publicKey),\n                        })\n                            .then(function (subscription) {\n                            _this._subscription = subscription;\n                            _this._logger.debug(\"User subscribed: \" + JSON.stringify(subscription));\n                            resolve(subscription);\n                        })\n                            .catch(function (error) {\n                            _this._logger.error(error);\n                        });\n                    }\n                });\n            }\n            else {\n                return reject(new Error('Service Worker not available'));\n            }\n        });\n    };\n    /**\n     * Convert a base64 encoded string to a Uint8 array for the push server key\n     * @param base64String\n     */\n    ServiceWorkerClass.prototype._urlB64ToUint8Array = function (base64String) {\n        var padding = '='.repeat((4 - (base64String.length % 4)) % 4);\n        var base64 = (base64String + padding)\n            .replace(/\\-/g, '+')\n            .replace(/_/g, '/');\n        var rawData = window.atob(base64);\n        var outputArray = new Uint8Array(rawData.length);\n        for (var i = 0; i < rawData.length; ++i) {\n            outputArray[i] = rawData.charCodeAt(i);\n        }\n        return outputArray;\n    };\n    /**\n     * Send a message to the service worker. The service worker needs\n     * to implement `self.addEventListener('message') to handle the\n     * message. This ***currently*** does not work in Safari or IE.\n     * @param {object | string} - An arbitrary JSON object or string message to send to the service worker\n     *\t- see: https://developer.mozilla.org/en-US/docs/Web/API/Transferable\n     * @returns {Promise}\n     **/\n    ServiceWorkerClass.prototype.send = function (message) {\n        if (this._serviceWorker) {\n            this._serviceWorker.postMessage(typeof message === 'object' ? JSON.stringify(message) : message);\n        }\n    };\n    /**\n     * Listen for service worker state change and message events\n     * https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorker/state\n     **/\n    ServiceWorkerClass.prototype._setupListeners = function () {\n        var _this = this;\n        this._serviceWorker.addEventListener('statechange', function (event) {\n            var currentState = _this._serviceWorker.state;\n            _this._logger.debug(\"ServiceWorker statechange: \" + currentState);\n            if (Amplify.Analytics && typeof Amplify.Analytics.record === 'function') {\n                Amplify.Analytics.record({\n                    name: 'ServiceWorker',\n                    attributes: {\n                        state: currentState,\n                    },\n                });\n            }\n        });\n        this._serviceWorker.addEventListener('message', function (event) {\n            _this._logger.debug(\"ServiceWorker message event: \" + event);\n        });\n    };\n    return ServiceWorkerClass;\n}());\nexport default ServiceWorkerClass;\n//# sourceMappingURL=ServiceWorker.js.map","/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nvar packageInfo = require('../../package.json');\nvar Platform = {\n    userAgent: \"aws-amplify/\" + packageInfo.version + \" js\",\n    product: '',\n    navigator: null,\n    isReactNative: false,\n};\nif (typeof navigator !== 'undefined' && navigator.product) {\n    Platform.product = navigator.product || '';\n    Platform.navigator = navigator || null;\n    switch (navigator.product) {\n        case 'ReactNative':\n            Platform.userAgent = \"aws-amplify/\" + packageInfo.version + \" react-native\";\n            Platform.isReactNative = true;\n            break;\n        default:\n            Platform.userAgent = \"aws-amplify/\" + packageInfo.version + \" js\";\n            Platform.isReactNative = false;\n            break;\n    }\n}\nexport default Platform;\n//# sourceMappingURL=index.js.map","/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nimport { AWS } from './Facet';\nimport { ConsoleLogger as Logger } from './Logger';\nimport Amplify from './Amplify';\nexport * from './Facet';\nexport { default as ClientDevice } from './ClientDevice';\nexport { ConsoleLogger, ConsoleLogger as Logger } from './Logger';\nexport * from './Errors';\nexport { default as Hub } from './Hub';\nexport { default as I18n } from './I18n';\nexport { default as JS } from './JS';\nexport { default as Signer } from './Signer';\nexport { default as Parser } from './Parser';\nexport { FacebookOAuth, GoogleOAuth } from './OAuthHelper';\nexport * from './RNComponents';\nexport { default as Credentials } from './Credentials';\nexport { default as ServiceWorker } from './ServiceWorker';\nexport { default as StorageHelper, MemoryStorage } from './StorageHelper';\nexport { default as Platform } from './Platform';\nimport Platform from './Platform';\nexport var Constants = {\n    userAgent: Platform.userAgent,\n};\nexport default Amplify;\nvar logger = new Logger('Core');\nif (AWS['util']) {\n    AWS['util'].userAgent = function () {\n        return Constants.userAgent;\n    };\n}\nelse if (AWS.config) {\n    AWS.config.update({ customUserAgent: Constants.userAgent });\n}\nelse {\n    logger.warn('No AWS.config');\n}\n//# sourceMappingURL=index.js.map"],"sourceRoot":""}