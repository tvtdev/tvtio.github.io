{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///./lib-esm/Interactions.js","webpack:///./lib-esm/Providers/AWSLexProvider.js","webpack:///./lib-esm/Providers/InteractionsProvider.js","webpack:///./lib-esm/Providers/index.js","webpack:///./lib-esm/index.js","webpack:///external \"@aws-amplify/core\"","webpack:///external \"aws-sdk/clients/lexruntime\""],"names":["__assign","Object","i","n","arguments","s","t","__awaiter","value","resolve","P","step","generator","reject","result","adopt","_arguments","__generator","_","label","sent","trys","ops","next","verb","g","Symbol","f","y","op","done","body","logger","Interactions","_this","opt","options","bots","aws_bots_config","bots_config","Array","bot","pluggable","_a","botProvider","__extends","extendStatics","__proto__","d","b","__","AWSLexProvider","_super","region","rej","data","setTimeout","slots","res","Credentials","credentials","AWS","params","botAlias","botName","inputText","userId","identityId","message","contentType","inputStream","accept","AbstractInteractionsProvider","config","get","enumerable","configurable","_instance","Amplify"],"mappings":"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","file":"aws-amplify-interactions.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"@aws-amplify/core\"), require(\"aws-sdk/clients/lexruntime\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"aws_amplify_interactions\", [\"@aws-amplify/core\", \"aws-sdk/clients/lexruntime\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"aws_amplify_interactions\"] = factory(require(\"@aws-amplify/core\"), require(\"aws-sdk/clients/lexruntime\"));\n\telse\n\t\troot[\"aws_amplify_interactions\"] = factory(root[\"@aws-amplify/core\"], root[\"aws-sdk/clients/lexruntime\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE__aws_amplify_core__, __WEBPACK_EXTERNAL_MODULE_aws_sdk_clients_lexruntime__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./lib-esm/index.js\");\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { ConsoleLogger as Logger } from '@aws-amplify/core';\nimport { AWSLexProvider } from './Providers';\nvar logger = new Logger('Interactions');\nvar Interactions = /** @class */ (function () {\n    /**\n     * Initialize PubSub with AWS configurations\n     *\n     * @param {InteractionsOptions} options - Configuration object for Interactions\n     */\n    function Interactions(options) {\n        this._options = options;\n        logger.debug('Interactions Options', this._options);\n        this._pluggables = {};\n    }\n    Interactions.prototype.getModuleName = function () {\n        return 'Interactions';\n    };\n    /**\n     *\n     * @param {InteractionsOptions} options - Configuration object for Interactions\n     * @return {Object} - The current configuration\n     */\n    Interactions.prototype.configure = function (options) {\n        var _this = this;\n        var opt = options ? options.Interactions || options : {};\n        logger.debug('configure Interactions', { opt: opt });\n        this._options = __assign(__assign({ bots: {} }, opt), opt.Interactions);\n        var aws_bots_config = this._options.aws_bots_config;\n        var bots_config = this._options.bots;\n        if (!Object.keys(bots_config).length && aws_bots_config) {\n            // Convert aws_bots_config to bots object\n            if (Array.isArray(aws_bots_config)) {\n                aws_bots_config.forEach(function (bot) {\n                    _this._options.bots[bot.name] = bot;\n                });\n            }\n        }\n        // Check if AWSLex provider is already on pluggables\n        if (!this._pluggables.AWSLexProvider &&\n            bots_config &&\n            Object.keys(bots_config)\n                .map(function (key) { return bots_config[key]; })\n                .find(function (bot) { return !bot.providerName || bot.providerName === 'AWSLexProvider'; })) {\n            this._pluggables.AWSLexProvider = new AWSLexProvider();\n        }\n        Object.keys(this._pluggables).map(function (key) {\n            _this._pluggables[key].configure(_this._options.bots);\n        });\n        return this._options;\n    };\n    Interactions.prototype.addPluggable = function (pluggable) {\n        if (pluggable && pluggable.getCategory() === 'Interactions') {\n            if (!this._pluggables[pluggable.getProviderName()]) {\n                pluggable.configure(this._options.bots);\n                this._pluggables[pluggable.getProviderName()] = pluggable;\n                return;\n            }\n            else {\n                throw new Error('Bot ' + pluggable.getProviderName() + ' already plugged');\n            }\n        }\n    };\n    Interactions.prototype.send = function (botname, message) {\n        return __awaiter(this, void 0, void 0, function () {\n            var botProvider;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!this._options.bots || !this._options.bots[botname]) {\n                            throw new Error('Bot ' + botname + ' does not exist');\n                        }\n                        botProvider = this._options.bots[botname].providerName || 'AWSLexProvider';\n                        if (!this._pluggables[botProvider]) {\n                            throw new Error('Bot ' +\n                                botProvider +\n                                ' does not have valid pluggin did you try addPluggable first?');\n                        }\n                        return [4 /*yield*/, this._pluggables[botProvider].sendMessage(botname, message)];\n                    case 1: return [2 /*return*/, _a.sent()];\n                }\n            });\n        });\n    };\n    Interactions.prototype.onComplete = function (botname, callback) {\n        if (!this._options.bots || !this._options.bots[botname]) {\n            throw new Error('Bot ' + botname + ' does not exist');\n        }\n        var botProvider = this._options.bots[botname].providerName || 'AWSLexProvider';\n        if (!this._pluggables[botProvider]) {\n            throw new Error('Bot ' +\n                botProvider +\n                ' does not have valid pluggin did you try addPluggable first?');\n        }\n        this._pluggables[botProvider].onComplete(botname, callback);\n    };\n    return Interactions;\n}());\nexport default Interactions;\n//# sourceMappingURL=Interactions.js.map","/*\n * Copyright 2017-2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { AbstractInteractionsProvider } from './InteractionsProvider';\nimport * as LexRuntime from 'aws-sdk/clients/lexruntime';\nimport { ConsoleLogger as Logger, AWS, Credentials } from '@aws-amplify/core';\nvar logger = new Logger('AWSLexProvider');\nvar AWSLexProvider = /** @class */ (function (_super) {\n    __extends(AWSLexProvider, _super);\n    function AWSLexProvider(options) {\n        if (options === void 0) { options = {}; }\n        var _this = _super.call(this, options) || this;\n        _this.aws_lex = new LexRuntime({ region: _this._config.region });\n        _this._botsCompleteCallback = {};\n        return _this;\n    }\n    AWSLexProvider.prototype.getProviderName = function () {\n        return 'AWSLexProvider';\n    };\n    AWSLexProvider.prototype.responseCallback = function (err, data, res, rej, botname) {\n        var _this = this;\n        if (err) {\n            rej(err);\n            return;\n        }\n        else {\n            // Check if state is fulfilled to resolve onFullfilment promise\n            logger.debug('postContent state', data.dialogState);\n            if (data.dialogState === 'ReadyForFulfillment' ||\n                data.dialogState === 'Fulfilled') {\n                if (typeof this._botsCompleteCallback[botname] === 'function') {\n                    setTimeout(function () {\n                        return _this._botsCompleteCallback[botname](null, { slots: data.slots });\n                    }, 0);\n                }\n                if (this._config &&\n                    typeof this._config[botname].onComplete === 'function') {\n                    setTimeout(function () { return _this._config[botname].onComplete(null, { slots: data.slots }); }, 0);\n                }\n            }\n            res(data);\n            if (data.dialogState === 'Failed') {\n                if (typeof this._botsCompleteCallback[botname] === 'function') {\n                    setTimeout(function () {\n                        return _this._botsCompleteCallback[botname]('Bot conversation failed');\n                    }, 0);\n                }\n                if (this._config &&\n                    typeof this._config[botname].onComplete === 'function') {\n                    setTimeout(function () { return _this._config[botname].onComplete('Bot conversation failed'); }, 0);\n                }\n            }\n        }\n    };\n    AWSLexProvider.prototype.sendMessage = function (botname, message) {\n        var _this = this;\n        return new Promise(function (res, rej) { return __awaiter(_this, void 0, void 0, function () {\n            var credentials, params;\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!this._config[botname]) {\n                            return [2 /*return*/, rej('Bot ' + botname + ' does not exist')];\n                        }\n                        return [4 /*yield*/, Credentials.get()];\n                    case 1:\n                        credentials = _a.sent();\n                        if (!credentials) {\n                            return [2 /*return*/, rej('No credentials')];\n                        }\n                        AWS.config.update({\n                            credentials: credentials,\n                        });\n                        this.aws_lex = new LexRuntime({\n                            region: this._config[botname].region,\n                            credentials: credentials,\n                        });\n                        if (typeof message === 'string') {\n                            params = {\n                                botAlias: this._config[botname].alias,\n                                botName: botname,\n                                inputText: message,\n                                userId: credentials.identityId,\n                            };\n                            logger.debug('postText to lex', message);\n                            this.aws_lex.postText(params, function (err, data) {\n                                _this.responseCallback(err, data, res, rej, botname);\n                            });\n                        }\n                        else {\n                            if (message.options['messageType'] === 'voice') {\n                                params = {\n                                    botAlias: this._config[botname].alias,\n                                    botName: botname,\n                                    contentType: 'audio/x-l16; sample-rate=16000',\n                                    inputStream: message.content,\n                                    userId: credentials.identityId,\n                                    accept: 'audio/mpeg',\n                                };\n                            }\n                            else {\n                                params = {\n                                    botAlias: this._config[botname].alias,\n                                    botName: botname,\n                                    contentType: 'text/plain; charset=utf-8',\n                                    inputStream: message.content,\n                                    userId: credentials.identityId,\n                                    accept: 'audio/mpeg',\n                                };\n                            }\n                            logger.debug('postContent to lex', message);\n                            this.aws_lex.postContent(params, function (err, data) {\n                                _this.responseCallback(err, data, res, rej, botname);\n                            });\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        }); });\n    };\n    AWSLexProvider.prototype.onComplete = function (botname, callback) {\n        if (!this._config[botname]) {\n            throw new ErrorEvent('Bot ' + botname + ' does not exist');\n        }\n        this._botsCompleteCallback[botname] = callback;\n    };\n    return AWSLexProvider;\n}(AbstractInteractionsProvider));\nexport { AWSLexProvider };\n//# sourceMappingURL=AWSLexProvider.js.map","/*\n * Copyright 2017-2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { ConsoleLogger as Logger } from '@aws-amplify/core';\nvar logger = new Logger('AbstractInteractionsProvider');\nvar AbstractInteractionsProvider = /** @class */ (function () {\n    function AbstractInteractionsProvider(options) {\n        if (options === void 0) { options = {}; }\n        this._config = options;\n    }\n    AbstractInteractionsProvider.prototype.configure = function (config) {\n        if (config === void 0) { config = {}; }\n        this._config = __assign(__assign({}, this._config), config);\n        logger.debug(\"configure \" + this.getProviderName(), this._config);\n        return this.options;\n    };\n    AbstractInteractionsProvider.prototype.getCategory = function () {\n        return 'Interactions';\n    };\n    Object.defineProperty(AbstractInteractionsProvider.prototype, \"options\", {\n        get: function () {\n            return __assign({}, this._config);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return AbstractInteractionsProvider;\n}());\nexport { AbstractInteractionsProvider };\n//# sourceMappingURL=InteractionsProvider.js.map","/*\n * Copyright 2017-2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nexport * from './AWSLexProvider';\nexport * from './InteractionsProvider';\n//# sourceMappingURL=index.js.map","/*\n * Copyright 2017-2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nimport InteractionsClass from './Interactions';\nimport Amplify, { ConsoleLogger as Logger } from '@aws-amplify/core';\nvar logger = new Logger('Interactions');\nvar _instance = null;\nif (!_instance) {\n    logger.debug('Create Interactions Instance');\n    _instance = new InteractionsClass(null);\n}\nvar Interactions = _instance;\nAmplify.register(Interactions);\nexport default Interactions;\nexport * from './Providers/AWSLexProvider';\nexport { InteractionsClass };\n//# sourceMappingURL=index.js.map","module.exports = __WEBPACK_EXTERNAL_MODULE__aws_amplify_core__;","module.exports = __WEBPACK_EXTERNAL_MODULE_aws_sdk_clients_lexruntime__;"],"sourceRoot":""}